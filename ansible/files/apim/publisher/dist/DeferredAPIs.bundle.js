(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1247:function(e,t,a){"use strict";a.d(t,"a",function(){return f});var n=a(1),r=a.n(n),i=a(35),o=a.n(i),s=a(1195),l=a(1212),c=a(1217),p=a(1600),d=a(1210),u=a(16),m=a(433),g=a(933);const h=Object(g.a)(e=>({mandatoryStar:{color:e.palette.error.main,marginLeft:e.spacing(.1)}}));function f(e){const{onChange:t,policies:a,multiple:i,helperText:o,isAPIProduct:g,validate:f}=e,[b,y]=Object(n.useState)({}),E=h();Object(n.useEffect)(()=>{m.a.policies("subscription").then(e=>y(e.body))},[]);const P=e=>{let{target:{value:a,name:n}}=e;f("policies",a),t({target:{name:n,value:a}})};return b.list?r.a.createElement(s.a,{fullWidth:!0,select:!0,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{id:"Apis.Create.Components.SelectPolicies.business.plans",defaultMessage:"Business plan(s)"}),g&&r.a.createElement("sup",{className:E.mandatoryStar},"*")),value:a,name:"policies",onChange:P,SelectProps:{multiple:i,renderValue:e=>Array.isArray(e)?e.join(", "):e},helperText:g?o+"API Product":o+"API",margin:"normal",variant:"outlined",InputProps:{id:"itest-id-apipolicies-input"}},b.list.map(e=>r.a.createElement(l.a,{dense:!0,disableGutters:i,id:e.name,key:e.name,value:e.displayName},i&&r.a.createElement(p.a,{color:"primary",checked:a.includes(e.name)}),r.a.createElement(c.a,{primary:e.displayName,secondary:e.description})))):r.a.createElement(d.a,null)}f.defaultProps={policies:[],multiple:!0,required:!1,isAPIProduct:o.a.bool.isRequired,helperText:"Select one or more throttling policies for the "}},1252:function(e,t,a){"use strict";a.d(t,"a",function(){return B});var n=a(1),r=a.n(n),i=a(35),o=a.n(i),s=a(1599),l=a(1087),c=a(1195),p=a(1253),d=a(1256),u=a(1200),m=a(1202),g=a(933),h=a(16),f=a(1210),b=a(1214),y=a(727),E=a.n(y),P=a(952),v=a.n(P),I=a(1089),A=a(1207),O=a(1213),w=a(1257),C=a(953),S=a(1174),x=a(802),T=a.n(x),D=a(609),j=a.n(D),k=a(1230),R=a(1217),L=a(583),M=a(548),N=a(433),_=a(951);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach(function(t){W(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function W(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const U=Object(g.a)(e=>({mandatoryStar:{color:e.palette.error.main}}));function B(e){const{apiInputs:t,inputsDispatcher:a,onValidate:i}=e,o="file"===t.inputType,{inputType:g,inputValue:y}=t,P=U(),[x,D]=Object(n.useState)({}),[q,W]=Object(n.useState)(!1);function F(e){W(!0);const t=e.pop();let n=null;N.a.validateOpenAPIByFile(t).then(e=>{const{body:{isValid:r,info:i}}=e;r?(n=t,a({action:"preSetAPI",value:i}),D(V({},x,{file:null}))):D(V({},x,{file:{message:"OpenAPI content validation failed!"}}))}).catch(e=>{D(V({},x,{file:{message:"OpenAPI content validation failed!"}})),console.error(e)}).finally(()=>{W(!1),i(null!==n),a({action:"inputValue",value:n})})}function z(e){const n=M.a.url.required().validate(e).error;null===n?(W(!0),N.a.validateOpenAPIByUrl(t.inputValue,{returnContent:!0}).then(e=>{const{body:{isValid:t,info:n,content:r}}=e;t?(n.content=r,a({action:"preSetAPI",value:n}),D(V({},x,{url:null}))):D(V({},x,{url:{message:"OpenAPI content validation failed!"}})),i(t),W(!1)})):(D(V({},x,{url:n})),i(!1))}Object(n.useEffect)(()=>{y&&(g===B.INPUT_TYPES.FILE?F([y]):g===B.INPUT_TYPES.URL&&z(y))},[g,y]);const G=Boolean(x.url);let Q=null;return q?Q=r.a.createElement(b.a,{position:"end"},r.a.createElement(f.a,null)):void 0!==x.url&&(Q=G?r.a.createElement(b.a,{position:"end"},r.a.createElement(v.a,{fontSize:"large",color:"error"})):r.a.createElement(b.a,{position:"end"},r.a.createElement(E.a,{fontSize:"large",color:"primary"}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{container:!0,spacing:5},r.a.createElement(l.a,{item:!0,xs:12,md:12},r.a.createElement(u.a,{component:"fieldset"},r.a.createElement(m.a,{component:"legend"},r.a.createElement(r.a.Fragment,null,r.a.createElement("sup",{className:P.mandatoryStar},"*")," ",r.a.createElement(h.a,{id:"Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.type",defaultMessage:"Input Type"}))),r.a.createElement(p.a,{"aria-label":"Input type",value:t.inputType,onChange:e=>a({action:"inputType",value:e.target.value})},r.a.createElement(d.a,{value:B.INPUT_TYPES.URL,control:r.a.createElement(s.a,{color:"primary"}),label:"OpenAPI URL"}),r.a.createElement(d.a,{value:B.INPUT_TYPES.FILE,control:r.a.createElement(s.a,{color:"primary"}),label:"OpenAPI File"})))),x.file&&r.a.createElement(l.a,{item:!0,md:11},r.a.createElement(L.a,{onClose:()=>D({file:null}),disableActions:!0,dense:!0,paperProps:{elevation:1},type:"error",message:x.file.message})),r.a.createElement(l.a,{item:!0,xs:10,md:11},o?r.a.createElement(r.a.Fragment,null,t.inputValue?r.a.createElement(A.a,null,r.a.createElement(O.a,{key:t.inputValue.path},r.a.createElement(w.a,null,r.a.createElement(C.a,null,r.a.createElement(T.a,null))),r.a.createElement(R.a,{primary:"".concat(t.inputValue.path," -\n                                    ").concat(Object(_.b)(t.inputValue.size))}),r.a.createElement(k.a,null,r.a.createElement(S.a,{edge:"end","aria-label":"delete",onClick:()=>{a({action:"inputValue",value:null}),a({action:"isFormValid",value:!1})}},r.a.createElement(j.a,null))))):r.a.createElement(_.a,{error:x.file,onDrop:F,files:t.inputValue,accept:".json,application/json,.yaml"},q?r.a.createElement(f.a,null):[r.a.createElement(h.a,{id:"Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.file.dropzone",defaultMessage:"Drag & Drop files here {break} or {break} Browse files",values:{break:r.a.createElement("br",null)}}),r.a.createElement(I.a,{color:"primary",variant:"contained"},r.a.createElement(h.a,{id:"Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.file.upload",defaultMessage:"Browse File to Upload"}))])):r.a.createElement(c.a,{autoFocus:!0,id:"outlined-full-width",label:"OpenAPI URL",placeholder:"Enter OpenAPI URL",fullWidth:!0,margin:"normal",variant:"outlined",onChange:e=>{let{target:{value:t}}=e;return a({action:"inputValue",value:t})},value:t.inputValue,InputLabelProps:{shrink:!0},InputProps:{onBlur:e=>{let{target:{value:t}}=e;z(t)},endAdornment:Q},helperText:x.url&&x.url.message||"Click away to validate the URL",error:G,disabled:q})),r.a.createElement(l.a,{item:!0,xs:2,md:5})))}B.defaultProps={onValidate:()=>{}},B.INPUT_TYPES={URL:"url",FILE:"file"},B.propTypes={apiInputs:o.a.shape({type:o.a.string,inputType:o.a.string,inputValue:o.a.string}).isRequired,inputsDispatcher:o.a.func.isRequired,onValidate:o.a.func}},1258:function(e,t,a){"use strict";var n=a(433),r=a(761),i=a(12),o=a(916);t.a=class extends o.a{static validateFileOrArchive(e){return(new r.a).getAPIClient(i.a.getCurrentEnvironment()).client.then(t=>t.apis.Validation.validateWSDLDefinition({file:e}))}static validateUrl(e){return(new r.a).getAPIClient(i.a.getCurrentEnvironment()).client.then(t=>t.apis.Validation.validateWSDLDefinition({url:e}))}static importByUrl(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"SOAP";return(new r.a).getAPIClient(i.a.getCurrentEnvironment()).client.then(r=>r.apis.APIs.importWSDLDefinition({url:e,additionalProperties:JSON.stringify(t),implementationType:a}).then(e=>new n.a(e.body)))}static importByFileOrArchive(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"SOAP";return(new r.a).getAPIClient(i.a.getCurrentEnvironment()).client.then(r=>r.apis.APIs.importWSDLDefinition({file:e,additionalProperties:JSON.stringify(t),implementationType:a}).then(e=>new n.a(e.body)))}}},1259:function(e,t,a){"use strict";a.d(t,"a",function(){return B});var n=a(1),r=a.n(n),i=a(35),o=a.n(i),s=a(1599),l=a(1087),c=a(1195),p=a(1253),d=a(1256),u=a(1200),m=a(1202),g=a(933),h=a(16),f=a(1210),b=a(1214),y=a(1089),E=a(1207),P=a(1213),v=a(1257),I=a(953),A=a(1174),O=a(802),w=a.n(O),C=a(609),S=a.n(C),x=a(1230),T=a(1217),D=a(952),j=a.n(D),k=a(727),R=a.n(k),L=a(548),M=a(1258),N=a(583),_=a(951);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach(function(t){W(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function W(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const U=Object(g.a)(e=>({mandatoryStar:{color:e.palette.error.main}}));function B(e){const{apiInputs:t,inputsDispatcher:a,onValidate:i}=e,o="file"===t.inputType,g="SOAPTOREST"===t.type,O=U(),[C,D]=Object(n.useState)(),[k,q]=Object(n.useState)(!1),W="create"===t.mode;function B(e,t){const a=e.body.isValid;let n=!1;return a?(D(V({},C,"file"===t?{file:null}:{url:null})),n=!0):D(V({},C,"file"===t?{file:{message:"WSDL content validation failed!"}}:{url:{message:"Invalid WSDL URL!"}})),i(a),q(!1),n}function F(e,t){let a="Error occurred during validation";e.response&&e.response.body.description&&(a=e.response.body.description),D(V({},C,"file"===t?{file:{message:a}}:{url:{message:a}})),q(!1)}function z(e){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t?(q(!0),M.a.validateFileOrArchive(e).then(t=>{B(t,"file")&&a({action:"inputValue",value:e})}).catch(e=>{F(e,"file")})):(D(V({},C,{file:t})),i(!1))}(e[0])}const G=g?r.a.createElement(h.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.dropzone",defaultMessage:"Drag & Drop WSDL file {break} -or-",values:{break:r.a.createElement("br",null)}}):r.a.createElement(h.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.archive.dropzone",defaultMessage:"Drag & Drop WSDL file/archive {break} -or-",values:{break:r.a.createElement("br",null)}});let Q=null;return k?Q=r.a.createElement(b.a,{position:"end"},r.a.createElement(f.a,null)):C&&C.url?Q=r.a.createElement(b.a,{position:"end"},r.a.createElement(j.a,{fontSize:"large",color:"error"})):C&&!C.url&&(Q=r.a.createElement(b.a,{position:"end"},r.a.createElement(R.a,{fontSize:"large",color:"primary"}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{container:!0,spacing:5},W&&r.a.createElement(l.a,{item:!0,md:12},r.a.createElement(u.a,{component:"fieldset"},r.a.createElement(m.a,{component:"legend"},r.a.createElement(r.a.Fragment,null,r.a.createElement("sup",{className:O.mandatoryStar},"*")," ",r.a.createElement(h.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.implementation.type",defaultMessage:"Implementation Type"}))),r.a.createElement(p.a,{"aria-label":"Implementation type",value:t.type?t.type:"SOAP",onChange:e=>{a({action:"type",value:e.target.value}),a({action:"isFormValid",value:!1}),a({action:"inputValue",value:null}),a({action:"inputType",value:"url"})}},r.a.createElement(d.a,{value:"SOAP",control:r.a.createElement(s.a,{color:"primary"}),label:r.a.createElement(h.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.passthrough.label",defaultMessage:"Pass Through"})}),r.a.createElement(d.a,{value:"SOAPTOREST",control:r.a.createElement(s.a,{color:"primary"}),label:r.a.createElement(h.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.SOAPtoREST.label",defaultMessage:"Generate REST APIs"})})))),r.a.createElement(l.a,{item:!0,md:12},r.a.createElement(u.a,{component:"fieldset"},r.a.createElement(m.a,{component:"legend"},r.a.createElement(r.a.Fragment,null,r.a.createElement("sup",{className:O.mandatoryStar},"*")," ",r.a.createElement(h.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.Input.type",defaultMessage:"Input Type"}))),r.a.createElement(p.a,{"aria-label":"Input type",value:t.inputType,onChange:e=>a({action:"inputType",value:e.target.value})},r.a.createElement(d.a,{value:"url",control:r.a.createElement(s.a,{color:"primary"}),label:r.a.createElement(h.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.url.label",defaultMessage:"WSDL URL"})}),r.a.createElement(d.a,{value:"file",control:r.a.createElement(s.a,{color:"primary"}),label:r.a.createElement(h.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.file.label.wsdl.file.archive",defaultMessage:"WSDL File/Archive"})})))),C&&C.file&&r.a.createElement(l.a,{item:!0,md:11},r.a.createElement(N.a,{onClose:()=>D({file:null}),disableActions:!0,dense:!0,paperProps:{elevation:1},type:"error",message:C.file.message})),r.a.createElement(l.a,{item:!0,md:11},o?t.inputValue?r.a.createElement(E.a,null,r.a.createElement(P.a,{key:t.inputValue.path},r.a.createElement(v.a,null,r.a.createElement(I.a,null,r.a.createElement(w.a,null))),r.a.createElement(T.a,{primary:"".concat(t.inputValue.path," - ").concat(Object(_.b)(t.inputValue.size))}),r.a.createElement(x.a,null,r.a.createElement(A.a,{edge:"end","aria-label":"delete",onClick:()=>{a({action:"inputValue",value:null}),a({action:"isFormValid",value:!1})}},r.a.createElement(S.a,null))))):r.a.createElement(_.a,{error:C&&C.file,onDrop:z,files:t.inputValue,accept:".bz,.bz2,.gz,.rar,.tar,.zip,.7z,.wsdl"},k?r.a.createElement(f.a,null):r.a.createElement(r.a.Fragment,null,G,r.a.createElement(y.a,{color:"primary",variant:"contained"},r.a.createElement(h.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.upload",defaultMessage:"Browse File to Upload"})))):r.a.createElement(c.a,{autoFocus:!0,id:"outlined-full-width",label:"WSDL URL",placeholder:"Enter WSDL URL",fullWidth:!0,margin:"normal",variant:"outlined",onChange:e=>{let{target:{value:t}}=e;return a({action:"inputValue",value:t})},value:t.inputValue,InputLabelProps:{shrink:!0},InputProps:{onBlur:e=>{let{target:{value:a}}=e;!function(e){null===e?(q(!0),M.a.validateUrl(t.inputValue).then(e=>{B(e,"url")}).catch(e=>{F(e,"url")})):(D(V({},C,{url:e})),i(!1))}(L.a.url.required().validate(a).error)},endAdornment:Q},helperText:C&&C.url&&C.url.message||"Click away to validate the URL",error:C&&Boolean(C.url),disabled:k}))))}B.defaultProps={onValidate:()=>{}},B.propTypes={apiInputs:o.a.shape({type:o.a.string,inputType:o.a.string,mode:o.a.string}).isRequired,inputsDispatcher:o.a.func.isRequired,onValidate:o.a.func}},1260:function(e,t,a){"use strict";a.d(t,"a",function(){return k});var n=a(1),r=a.n(n),i=a(35),o=a.n(i),s=a(1087),l=a(1200),c=a(1202),p=a(933),d=a(16),u=a(1210),m=a(1089),g=a(1207),h=a(1213),f=a(1257),b=a(953),y=a(1174),E=a(802),P=a.n(E),v=a(609),I=a.n(v),A=a(1230),O=a(1217),w=a(433),C=a(951),S=a(583);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach(function(t){D(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function D(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const j=Object(p.a)(e=>({mandatoryStar:{color:e.palette.error.main}}));function k(e){const{apiInputs:t,inputsDispatcher:a,onValidate:i}=e,{inputValue:o}=t,p=j(),[E,v]=Object(n.useState)({file:null}),[x,D]=Object(n.useState)(!1);function k(e){D(!0);const t=e.pop();let n=null;w.a.validateGraphQLFile(t).then(e=>{const{body:{isValid:r,graphQLInfo:i}}=e;r?(n=t,a({action:"graphQLInfo",value:i}),v(T({},E,{file:null}))):v(T({},E,{file:{message:"GraphQL content validation failed!"}}))}).catch(e=>{v(T({},E,{file:{message:"GraphQL content validation failed!"}})),console.error(e)}).finally(()=>{D(!1),i(null!==n),a({action:"inputValue",value:n})})}return Object(n.useEffect)(()=>{o&&k([o])},[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{container:!0,spacing:5},!t.inputValue&&r.a.createElement(s.a,{item:!0,md:12},r.a.createElement(l.a,{component:"fieldset"},r.a.createElement(c.a,{component:"legend"},r.a.createElement(r.a.Fragment,null,r.a.createElement("sup",{className:p.mandatoryStar},"*")," ",r.a.createElement(d.a,{id:"Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.type",defaultMessage:"Provide GraphQL File"}))))),E.file&&r.a.createElement(s.a,{item:!0,md:11},r.a.createElement(S.a,{onClose:()=>v({file:null}),disableActions:!0,dense:!0,paperProps:{elevation:1},type:"error",message:E.file.message})),r.a.createElement(s.a,{item:!0,md:11},t.inputValue?r.a.createElement(g.a,null,r.a.createElement(h.a,{key:t.inputValue.path},r.a.createElement(f.a,null,r.a.createElement(b.a,null,r.a.createElement(P.a,null))),r.a.createElement(O.a,{primary:"".concat(t.inputValue.path," - \n                                    ").concat(Object(C.b)(t.inputValue.size))}),r.a.createElement(A.a,null,r.a.createElement(y.a,{edge:"end","aria-label":"delete",onClick:()=>{a({action:"inputValue",value:null}),a({action:"isFormValid",value:!1})}},r.a.createElement(I.a,null))))):r.a.createElement(C.a,{error:E.file,onDrop:k,files:t.inputValue,accept:".graphql,text/plain"},x?r.a.createElement(u.a,null):[r.a.createElement(d.a,{id:"Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.file.dropzone",defaultMessage:"Drag & Drop files here {break} or {break} Browse files",values:{break:r.a.createElement("br",null)}}),r.a.createElement(m.a,{color:"primary",variant:"contained"},r.a.createElement(d.a,{id:"Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.file.upload",defaultMessage:"Browse File to Upload"}))]))))}k.defaultProps={onValidate:()=>{}},k.propTypes={apiInputs:o.a.shape({type:o.a.string,inputType:o.a.string}).isRequired,inputsDispatcher:o.a.func.isRequired,onValidate:o.a.func}},1277:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(1187),o=a(1191),s=a(1192),l=a(1194),c=a(1209),p=a(1089),d=a(1088),u=a(609),m=a.n(u),g=a(1219),h=a(35),f=a.n(h),b=a(42),y=a(426),E=a(433),P=a(732),v=a(443),I=a(581),A=a(16);class O extends r.a.Component{constructor(e){super(e),this.handleApiDelete=this.handleApiDelete.bind(this),this.handleRequestClose=this.handleRequestClose.bind(this),this.handleRequestOpen=this.handleRequestOpen.bind(this),this.state={openMenu:!1}}handleRequestClose(){this.setState({openMenu:!1})}handleRequestOpen(){this.setState({openMenu:!0})}handleApiDelete(){const{api:e,history:t}=this.props;e.apiType===E.a.CONSTS.APIProduct?E.a.deleteProduct(e.id).then(a=>{if(200!==a.status)return console.log(a),void v.a.error("Something went wrong while deleting the API Product!");v.a.success("API Product "+e.name+" was deleted successfully!"),t.push("/api-products")}).catch(t=>{409===t.status?v.a.error("[ "+e.name+" ] : "+t.response.body.description):v.a.error("Something went wrong while deleting the API Product!")}):e.delete().then(a=>{if(200!==a.status)return console.log(a),void v.a.error("Something went wrong while deleting the API!");v.a.success("API "+e.name+" was deleted successfully!"),t.push("/apis")}).catch(t=>{409===t.status?v.a.error("[ "+e.name+" ] : "+t.response.body.description):v.a.error("Something went wrong while deleting the API!")})}render(){const{api:e,onClick:t,classes:a}=this.props,n=e.apiType===E.a.CONSTS.APIProduct?"API Product ":"API ",u=e.apiType===E.a.CONSTS.APIProduct?null:"-"+e.version,h=t||this.handleApiDelete;let f=P.c.SINGLE_API;return e.apiType===E.a.CONSTS.APIProduct&&(f=P.c.SINGLE_API_PRODUCT),r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{resourceMethod:P.b.DELETE,resourcePath:f},r.a.createElement("div",{className:a.deleteWrapper},r.a.createElement(I.a,{height:70}),r.a.createElement("a",{id:"itest-id-deleteapi-icon-button",onClick:this.handleRequestOpen,onKeyDown:this.handleRequestOpen,className:a.delete},r.a.createElement("div",null,r.a.createElement(m.a,null)),r.a.createElement(d.a,{variant:"caption"},r.a.createElement(A.a,{id:"Apis.Details.components.DeleteApiButton.delete",defaultMessage:"Delete"}))))),r.a.createElement(i.a,{open:this.state.openMenu,transition:g.a},r.a.createElement(o.a,null,r.a.createElement(A.a,{id:"Apis.Details.components.DeleteApiButton.title",defaultMessage:"Delete {type}",values:{type:n}})),r.a.createElement(s.a,null,r.a.createElement(l.a,null,r.a.createElement(A.a,{id:"Apis.Details.components.DeleteApiButton.text.description",defaultMessage:"{type} <b> {name} {version} </b> will be deleted permanently.",values:{b:e=>r.a.createElement("b",null,e),type:n,name:e.name,version:u}}))),r.a.createElement(c.a,null,r.a.createElement(p.a,{dense:!0,onClick:this.handleRequestClose},r.a.createElement(A.a,{id:"Apis.Details.components.DeleteApiButton.button.cancel",defaultMessage:"Cancel"})),r.a.createElement(p.a,{id:"itest-id-deleteconf",onClick:()=>{h(),this.handleRequestClose()}},r.a.createElement(A.a,{id:"Apis.Details.components.DeleteApiButton.button.delete",defaultMessage:"Delete"})))))}}O.defaultProps={onClick:!1},O.propTypes={api:f.a.shape({delete:f.a.func}).isRequired,history:f.a.shape({push:f.a.func}).isRequired,onClick:f.a.func,classes:f.a.shape({}).isRequired},t.a=Object(b.withRouter)(Object(y.a)(e=>({root:{height:70,background:e.palette.background.paper,borderBottom:"solid 1px "+e.palette.grey.A200,display:"flex",alignItems:"center"},backLink:{alignItems:"center",textDecoration:"none",display:"flex"},backIcon:{color:e.palette.primary.main,fontSize:56,cursor:"pointer"},backText:{color:e.palette.primary.main,cursor:"pointer",fontFamily:e.typography.fontFamily},deleteWrapper:{flex:0,display:"flex",justifyContent:"flex-end",paddingRight:e.spacing(2)},delete:{display:"flex",flexDirection:"column",textAlign:"center",color:e.custom.deleteButtonColor,justifyContent:"center",cursor:"pointer"},linkText:{fontSize:e.typography.fontSize}}),{withTheme:!0})(O))},1605:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(933),o=a(1086),s=a(1195),l=a(1207),c=a(1213),p=a(1216),d=a(1211),u=a(1230),m=a(1217),g=a(1600),h=a(1174),f=a(950),b=a.n(f),y=a(16),E=a(1088),P=a(1087),v=a(546),I=a.n(v),A=a(35),O=a.n(A),w=a(433),C=a(560),S=a(1075),x=a(1613);function T(e){const t=Object(S.a)(),{method:a,className:n}=e;let i=t.custom.resourceChipColors?t.custom.resourceChipColors[a.toLowerCase()]:null,o="#000000";return i?o=t.palette.getContrastText(t.custom.resourceChipColors[a.toLowerCase()]):(console.log("Check the theme settings. The resourceChipColors is not populated properly"),i="#cccccc"),r.a.createElement(x.a,{label:a,className:n||"",style:{backgroundColor:i,color:o,height:20,width:65}})}T.propTypes={className:O.a.string.isRequired,method:O.a.string.isRequired};var D=T,j=a(78),k=a(50),R=a(581);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const N=Object(i.a)(e=>({searchWrapper:{padding:0,marginTop:e.spacing(1),"& input":{padding:"12px 14px"}},paper:{height:"100%",borderRadius:0},apiWrapper:{overflowY:"auto",height:349},ResourceWrapper:{marginLeft:e.spacing(2),marginRight:e.spacing(2),"& .frame":{overflowY:"auto",height:328,border:"1px solid "+e.palette.grey[400],borderRadius:e.spacing(1)},"& .frame::-webkit-scrollbar":{"-webkit-appearance":"none"},"& .frame::-webkit-scrollbar:vertical":{width:11},"& .frame::-webkit-scrollbar:horizontal":{height:11},"& .frame::-webkit-scrollbar-thumb":{borderRadius:e.spacing(1),border:"2px solid"+e.palette.common.white,backgroundColor:e.palette.grey[400]},"& .frame.rightFrame":{height:369}},SelectedResourceWrapper:{overflowY:"auto",overflowX:"auto",height:321},leftMost:{background:e.palette.grey[700],color:e.palette.getContrastText(e.palette.grey[700]),padding:e.spacing(1)},rightMost:{background:e.palette.grey[600],color:e.palette.getContrastText(e.palette.grey[600]),padding:e.spacing(1)},colTitle:{background:e.palette.grey[400],color:e.palette.getContrastText(e.palette.grey[400]),padding:e.spacing(1),fontWeight:200,minHeight:25},treeItemMain:{background:e.palette.grey[100],color:e.palette.getContrastText(e.palette.grey[100]),padding:e.spacing(1)},treeItemMainWrapper:{paddingLeft:e.spacing(2)},treeItem:{"& .material-icons":{fontSize:e.spacing(2),cursor:"pointer",marginRight:e.spacing(1)},display:"flex",alignItems:"center",padding:"6px 0"},hr:{flex:1,marginLeft:e.spacing(1),marginRight:e.spacing(1),color:e.palette.getContrastText(e.palette.grey[100])},methodView:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},middleText:{flex:1},selectedApi:{background:e.palette.grey[100]},selectedTitle:{padding:e.spacing(2)},buttonWrapper:{marginTop:e.spacing(2),textDecorate:"none"},selectedApiDescription:{padding:"0px 16px"},messageWrapper:{padding:e.spacing(3)},tootBar:{display:"flex",justifyContent:"flex-end",alignItems:"center",margin:"0 16px",background:e.palette.grey[100],color:e.palette.getContrastText(e.palette.grey[100]),padding:5,borderRadius:5,"& a":{cursor:"pointer",display:"flex",justifyContent:"flex-end",alignItems:"center"}},inactiveIcon:{color:e.palette.grey[300]}}));function _(e){const t=N(),{apiResources:a,setApiResources:i,isStateCreate:f,api:v,resourceNotFountMessage:A}=e,[O,S]=Object(n.useState)([]),[x,T]=Object(n.useState)(!1),[_,q]=Object(n.useState)(""),[V,W]=Object(n.useState)([]),[U,B]=Object(n.useState)(null),[F,z]=Object(n.useState)(!1),G=new w.a,Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){const t="?query=name:"+e.trim().toLowerCase()+" type:HTTP",a=b.a.parse(t);return a.limit=100,a.offset=0,w.a.search(a)}return w.a.all({query:{type:"HTTP"}})},H=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;Object.keys(e).map(a=>{const r=e[a];Object.keys(r).map(e=>{r[e].checked=!1;const i=a,o=e;let s=!1;n&&Object.keys(n).map(e=>{const a=n[e];a&&t===a.apiId&&Object.keys(a.operations).map(e=>{const t=a.operations[e];t&&t.target===i&&t.verb.toLowerCase()===o.toLowerCase()&&(s=!0)})}),r[e].allreadyAdded=!!s})}),W(e)},$=e=>{const{id:t}=e;G.getSwagger(t).then(a=>{void 0!==a.obj.paths&&(H(a.obj.paths,t),B(e))}).catch(e=>{const{status:t}=e;404===t?T(!0):401===t&&Object(j.b)()})},K=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=!1,o=null;n?o=n:(o=I()(a),r=!0);const{target:s,verb:l,apiId:c,name:p}=e,d={id:null,target:s,verb:l.toUpperCase(),authType:null,throttlingPolicy:null,scopes:[]};let u=!1;return Object.keys(o).map((e,a)=>{const n=o[e];if(n&&c===n.apiId){u=!0;let e=!1;Object.keys(n.operations).map((r,i)=>{const c=n.operations[r];c&&c.target===s&&c.verb.toLowerCase()===l.toLowerCase()&&(e=!0,"remove"===t&&(n.operations.length>1?n.operations.splice(i,1):o.splice(a,1)))}),e||"add"!==t||n.operations.push(d)}}),u||o.push({name:p,apiId:c,operations:[d]}),r&&(i(o),c===U.id&&H(I()(V),c,o)),o},J=(e,t)=>{const a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach(function(t){M(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},V);a[e][t].checked=!a[e][t].checked,W(a)},Y=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=I()(a);Object.keys(V).map(a=>{const n=V[a];Object.keys(n).map(r=>{(n[r].checked||e)&&K({target:a,verb:r,apiId:U.id,name:U.name},"add",t)})}),i(t),H(I()(V),U.id,t)};return Object(n.useEffect)(()=>{Q().then(e=>{const{body:{list:t}}=e,a=t.filter(e=>"PROTOTYPED"!==e.lifeCycleStatus);S(a),a.length>0&&(B(a[0]),$(a[0]))}).catch(e=>{const{status:t}=e;404===t?T(!0):401===t&&Object(j.b)()})},[]),x?r.a.createElement(C.a,{message:A}):r.a.createElement(r.a.Fragment,null,0!==O.length||F?r.a.createElement(r.a.Fragment,null,!f&&r.a.createElement(P.a,{container:!0},r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{item:!0,xs:8,className:t.leftMost},r.a.createElement(y.a,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.find.and.select",defaultMessage:"Find and select resources for the API Product"})),r.a.createElement(P.a,{item:!0,xs:4,className:t.rightMost},r.a.createElement(y.a,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.selected",defaultMessage:"Selected resources of API Product"}),r.a.createElement("div",null)))),r.a.createElement(P.a,{container:!0},r.a.createElement(P.a,{item:!0,xs:3},r.a.createElement("div",{className:t.colTitle},r.a.createElement(y.a,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.select.an.api",defaultMessage:"Select an API"})),r.a.createElement(o.a,null,r.a.createElement(c.a,{className:t.searchWrapper},r.a.createElement(s.a,{id:"outlined-full-width",label:"API",style:{margin:8},placeholder:"Filter APIs",helperText:"Filter by name",onChange:e=>{Q(e.target.value).then(e=>{const{body:{list:t}}=e,a=t.filter(e=>"PROTOTYPED"!==e.status);a.length>0&&B(t[0]),S(a)}).catch(e=>{const{status:t}=e;404===t?T(!0):401===t&&Object(j.b)()}),q(e.target.value),z(e.target.value)},value:_,fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}})),r.a.createElement("div",{className:t.apiWrapper},r.a.createElement(l.a,{dense:!0},O.map(e=>{const a="checkbox-list-label-".concat(e.id);return r.a.createElement(c.a,{key:e.id,role:void 0,dense:!0,button:!0,className:U&&e.id===U.id&&t.selectedApi},r.a.createElement(m.a,{id:a,primary:e.name,secondary:"".concat(e.version," - ").concat(e.context),onClick:()=>$(e)}))}))))),r.a.createElement(P.a,{item:!0,xs:5},r.a.createElement(o.a,{className:t.paper},r.a.createElement("div",{className:t.colTitle},r.a.createElement(y.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.api.resources",defaultMessage:"Select API Resources"})),U&&r.a.createElement(E.a,{variant:"h5",className:t.selectedTitle},U.name),r.a.createElement("div",{className:t.tootBar},r.a.createElement("a",{onClick:()=>Y(),onKeyDown:()=>Y()},r.a.createElement(E.a,{variant:"body2"},r.a.createElement(y.a,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace. toolbar.add.selected",defaultMessage:"Add Selected"})),r.a.createElement(d.a,null,"fast_forward")),r.a.createElement(R.a,null),r.a.createElement("a",{onClick:()=>Y(!0),onKeyDown:()=>Y(!0)},r.a.createElement(E.a,{variant:"body2"},r.a.createElement(y.a,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.toolbar. add.all",defaultMessage:"Add All"})),r.a.createElement(d.a,null,"fast_forward"))),r.a.createElement("div",{className:t.ResourceWrapper},r.a.createElement("div",{className:"frame"},r.a.createElement(l.a,{dense:!0},Object.keys(V).map(e=>{const a=V[e],n="checkbox-list-label-".concat(e);return Object.keys(a).map(i=>{const o=a[i];return k.a.HTTP_METHODS.includes(i)&&r.a.createElement(c.a,{key:"".concat(i," - ").concat(e),role:void 0,dense:!0},r.a.createElement(p.a,{style:{minWidth:35}},r.a.createElement(g.a,{edge:"start",checked:o.checked,tabIndex:-1,disableRipple:!0,onChange:()=>J(e,i),color:"primary",disabled:o.allreadyAdded})),r.a.createElement(m.a,{id:n,primary:r.a.createElement("div",null,r.a.createElement(D,{method:i,className:t.methodView}),r.a.createElement("span",null,e)),secondary:o["x-auth-type"]&&o["x-throttling-tier"]&&"".concat(o["x-auth-type"]," - ").concat(o["x-throttling-tier"]),onClick:()=>K({target:e,verb:i,apiId:U.id,name:U.name},"add"),className:t.middleText}),r.a.createElement(u.a,null,o.allreadyAdded&&r.a.createElement(d.a,{className:t.inactiveIcon},"chevron_right"),!o.allreadyAdded&&r.a.createElement(h.a,{edge:"end","aria-label":"comments",onClick:()=>K({target:e,verb:i,apiId:U.id,name:U.name},"add")},r.a.createElement(d.a,null,"chevron_right"))))})})))))),r.a.createElement(P.a,{item:!0,xs:4},r.a.createElement(o.a,{className:t.paper},r.a.createElement("div",{className:t.colTitle}),v.name&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{variant:"h5",className:t.selectedTitle},v.name)),r.a.createElement("div",{className:t.ResourceWrapper},r.a.createElement("div",{className:"frame rightFrame"},O.length>0&&a&&0===a.length&&r.a.createElement("div",{className:t.messageWrapper},r.a.createElement(E.a,{component:"p"},r.a.createElement(y.a,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace. empty.title",defaultMessage:"Use the left side panel to add resources"}))),a&&a.length>0&&Object.keys(a).map(e=>{const n=a[e];return r.a.createElement("div",{key:n.name},r.a.createElement("div",{className:t.treeItemMain},n.name),r.a.createElement("div",{className:t.treeItemMainWrapper},Object.keys(n.operations).map(e=>{const a=n.operations[e],{target:i,verb:o}=a;return r.a.createElement("div",{key:"".concat(n.apiId,"_").concat(o,"_").concat(i),className:t.treeItem},r.a.createElement(D,{method:o,className:t.methodView}),r.a.createElement(E.a,{variant:"body2"},i),r.a.createElement("hr",{className:t.hr}),r.a.createElement(d.a,{onClick:()=>K({target:i,verb:o,apiId:n.apiId,name:n.name},"remove")},"delete"))})))}))))))):r.a.createElement(P.a,{container:!0},r.a.createElement(E.a,{className:t.messageWrapper},r.a.createElement(y.a,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.ApisnotFound",defaultMessage:"No REST APIs are created yet"}))))}_.propTypes={apiResources:O.a.instanceOf(Array).isRequired,setApiResources:O.a.func.isRequired,isStateCreate:O.a.isRequired,api:O.a.isRequired,resourceNotFountMessage:O.a.string.isRequired};t.a=_},2143:function(e,t,a){var n=a(2144);"string"==typeof n&&(n=[[e.i,n,""]]);var r={transform:void 0};a(436)(n,r);n.locals&&(e.exports=n.locals)},2144:function(e,t,a){(e.exports=a(435)(!1)).push([e.i,"body,html{height:100%}.redirect-flex-container{display:flex;flex-direction:column;height:100%;background:#efefef;margin:auto}.redirect-flex-container .redirect-grid-container{height:100vh}.redirect-flex-container .redirect-main-content{flex:1;align-items:flex-start;justify-content:center}.redirect-loadingbar{float:right}.redirect-paper{border-left:2px solid #f17a20;fontSize:medium;padding:15px}#react-root{height:100%}@media (max-width:601px){.redirect-paper{align-items:flex-start;display:flex;width:100%;height:100%}}",""])},2869:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(42),o=a(98),s=a(56),l=a(426),c=a(35),p=a.n(c),d=a(560),u=a(1088),m=a(1087),g=a(16),h=a(1089),f=a(95),b=a(443),y=a(1210),E=a(433),P=a(547),v=a(583),I=a(1086);function A(e){const{title:t,children:a}=e;return r.a.createElement(m.a,{container:!0,spacing:3},r.a.createElement(m.a,{item:!0,xs:12}),r.a.createElement(m.a,{item:!0,sm:0,md:3}),r.a.createElement(m.a,{item:!0,sm:12,md:6},r.a.createElement(m.a,{container:!0,spacing:5},r.a.createElement(m.a,{item:!0,md:12},t),r.a.createElement(m.a,{item:!0,xs:12,md:12},r.a.createElement(I.a,{elevation:0},a)))))}A.propTypes={title:p.a.element.isRequired,children:p.a.element.isRequired};var O=a(1195),w=a(1214),C=a(1174),S=a(1211),x=a(1613),T=a(933),D=a(550),j=a.n(D),k=a(548),R=a(1247);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach(function(t){N(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function N(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const _=Object(T.a)(e=>({mandatoryStar:{color:e.palette.error.main,marginLeft:e.spacing(.1)},helperTextContext:{"& p":{textOverflow:"ellipsis",width:400,display:"block",whiteSpace:"nowrap",overflow:"hidden"}},endpointValidChip:{color:"green",border:"1px solid green"},endpointInvalidChip:{color:"#ffd53a",border:"1px solid #ffd53a"},endpointErrorChip:{color:"red",border:"1px solid red"},iconButton:{padding:e.spacing(1)},iconButtonValid:{padding:e.spacing(1),color:j.a[500]}}));function q(e){let{context:t,version:a}=e,n="{context}/{version}";return t&&(n=t,t.indexOf("{version}")<0&&(n=t+"/{version}")),a&&(n=n.replace("{version}",a)),n}function V(e){const{onChange:t,onValidate:a,api:i,isAPIProduct:o,isWebSocket:s}=e,l=_(),[c,p]=Object(n.useState)({}),[d,h]=Object(n.useState)(),[f,b]=Object(n.useState)(""),[P,v]=Object(n.useState)(!1),[I,A]=Object(n.useState)(!1);Object(n.useEffect)(()=>{a(Boolean(i.name)&&(o||Boolean(i.version))&&Boolean(i.context)&&Boolean(i.policies))},[]);const T=e=>{let t=Object.entries(e).length>0&&Object.entries(e).map(e=>{let[,t]=e;return null==t}).reduce((e,t)=>e&&t);t=t&&Boolean(i.name)&&(o||Boolean(i.version))&&Boolean(i.context)&&(!o||null===e.policy),a(t,c),p(e)};function D(e,t){switch(e){case"name":{const a=k.a.apiName.required().validate(t,{abortEarly:!1}).error;null===a?k.a.apiParameter.validate(e+":"+t).then(e=>{e.body.list.length>0&&t.toLowerCase()===e.body.list[0].name.toLowerCase()?T(M({},c,{name:{details:[{message:"Name "+t+" already exists"}]}})):T(M({},c,{name:a}))}):T(M({},c,{name:a}));break}case"context":{const a=k.a.apiContext.required().validate(t,{abortEarly:!1}).error,n=t.includes("/")?t:"/"+t;null===a?k.a.apiParameter.validate(e+":"+n).then(e=>{e.body.list.length>0&&function(e,t){const a=e.includes("/")?e.toLowerCase():"/"+e.toLowerCase();return a==="/"+t.toLowerCase().slice(t.toLowerCase().lastIndexOf("/")+1)||a===t.toLowerCase()}(t,e.body.list[0].context)?T(M({},c,{context:{details:[{message:n+" context already exists"}]}})):T(M({},c,{context:a,version:null}))}):T(M({},c,{context:a}));break}case"version":{const e=k.a.apiVersion.required().validate(t).error;if(null===e){const a=i.context.includes("/")?i.context+"/"+t:"/"+i.context+"/"+t;k.a.apiParameter.validate("context:"+i.context+" version:"+t).then(n=>{n.body.list.length>0&&(void 0!==n.body.list[0].version&&n.body.list[0].version.toLowerCase()===t.toLowerCase()||"1.0.0"===t)?T(M({},c,{version:{message:a+" context with version already exists"}})):T(M({},c,{version:e}))})}else T(M({},c,{version:e}));break}case"policies":{const e=t&&t.length>0;T(M({},c,{policy:e||!o?null:{message:"Need to select at least one policy to create an API Product"}}));break}}}return r.a.createElement(m.a,{item:!0,md:11},r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(O.a,{autoFocus:!0,fullWidth:!0,id:"outlined-name",error:c.name,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{id:"Apis.Create.Components.DefaultAPIForm.name",defaultMessage:"Name"}),r.a.createElement("sup",{className:l.mandatoryStar},"*")),helperText:c.name&&c.name.details.map((e,t)=>r.a.createElement("div",{style:{marginTop:0!==t&&"10px"}},e.message)),value:i.name,name:"name",onChange:t,InputProps:{id:"itest-id-apiname-input",onBlur:e=>{let{target:{value:t}}=e;D("name",t)}},margin:"normal",variant:"outlined"}),r.a.createElement(m.a,{container:!0,spacing:2},o?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{item:!0,md:12},r.a.createElement(O.a,{fullWidth:!0,id:"outlined-name",error:c.context,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{id:"Apis.Create.Components.DefaultAPIForm.api.product.context",defaultMessage:"Context"}),r.a.createElement("sup",{className:l.mandatoryStar},"*")),name:"context",value:i.context,onChange:t,InputProps:{onBlur:e=>{let{target:{value:t}}=e;D("context",t)}},helperText:c.context&&c.context.details.map((e,t)=>r.a.createElement("div",{style:{marginTop:0!==t&&"10px"}},e.message))||"API Product will be exposed in ".concat(q(i)," context at the gateway"),margin:"normal",variant:"outlined"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{item:!0,md:8,xs:6},r.a.createElement(O.a,{fullWidth:!0,id:"outlined-name",error:c.context,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{id:"Apis.Create.Components.DefaultAPIForm.api.context",defaultMessage:"Context"}),r.a.createElement("sup",{className:l.mandatoryStar},"*")),name:"context",value:i.context,onChange:t,InputProps:{id:"itest-id-apicontext-input",onBlur:e=>{let{target:{value:t}}=e;D("context",t)}},helperText:c.context&&c.context.details.map((e,t)=>r.a.createElement("div",{style:{marginTop:0!==t&&"10px"}},e.message))||"API will be exposed in ".concat(q(i)," context at the gateway"),classes:{root:l.helperTextContext},margin:"normal",variant:"outlined"})),r.a.createElement(m.a,{item:!0,md:4,xs:6},r.a.createElement(O.a,{fullWidth:!0,error:c.version,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{id:"Apis.Create.Components.DefaultAPIForm.version",defaultMessage:"Version"}),r.a.createElement("sup",{className:l.mandatoryStar},"*")),name:"version",value:i.version,onChange:t,InputProps:{id:"itest-id-apiversion-input",onBlur:e=>{let{target:{value:t}}=e;D("version",t)}},helperText:c.version&&c.version.message,margin:"normal",variant:"outlined"})))),!o&&r.a.createElement(O.a,{fullWidth:!0,id:"itest-id-apiendpoint-input",label:"Endpoint",name:"endpoint",value:i.endpoint,onChange:t,helperText:c.endpointURL&&r.a.createElement("span",null,"Enter a valid",r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"http://tools.ietf.org/html/rfc3986"},"RFC 3986")," ","URI"),error:c.endpointURL,margin:"normal",variant:"outlined",InputProps:{endAdornment:r.a.createElement(w.a,{position:"end"},f&&r.a.createElement(x.a,{label:f,className:d?l.endpointValidChip:((e,t,a)=>e?t:a)(I,l.endpointErrorChip,l.endpointInvalidChip),variant:"outlined"}),!s&&r.a.createElement(C.a,{className:d?l.iconButtonValid:l.iconButton,"aria-label":"TestEndpoint",onClick:()=>(function(e){v(!0),(new E.a).testEndpoint(e).then(e=>{null!==e.body.error?(b(e.body.error),A(!0)):(b(e.body.statusCode+" "+e.body.statusMessage),A(!1)),e.body.statusCode>=200&&e.body.statusCode<300?(h(!0),A(!1)):h(!1)}).finally(()=>{v(!1)})})(i.endpoint),disabled:P},P?r.a.createElement(y.a,{size:20}):r.a.createElement(S.a,null,"check_circle")))}}),r.a.createElement(R.a,{policies:i.policies,isAPIProduct:o,onChange:t,validate:D,isValid:c.policies})),r.a.createElement(m.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement(m.a,{item:!0},r.a.createElement(u.a,{variant:"caption",display:"block",gutterBottom:!0},r.a.createElement("sup",{style:{color:"red"}},"*")," ","Mandatory fields"))))}V.defaultProps={onValidate:()=>{},api:{},isWebSocket:!1},V.propTypes={api:p.a.shape({}),isAPIProduct:p.a.shape({}).isRequired,isWebSocket:p.a.shape({}),onChange:p.a.func.isRequired,onValidate:p.a.func};var W=a(512);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function B(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function F(e){const{isWebSocket:t,isAPIProduct:a,history:i,intl:o}=e,{settings:l}=Object(P.c)(),[c,p]=Object(n.useState)(null),[d,I]=Object(n.useState)(),[O,w]=Object(n.useState)(!1);const[C,S]=Object(n.useReducer)(function(e,t){const{action:a,value:n}=t;switch(a){case"name":case"version":case"endpoint":case"context":case"policies":case"isFormValid":return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach(function(t){B(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{[a]:n});default:return e}},{formValidity:!1}),x=C.endpoint&&C.policies&&0!==C.policies.length,T=!(C.name&&C.version&&C.context)||d||O;function D(){I(!0);const{name:e,version:n,context:r,endpoint:o,policies:s}=C;let c;const d={name:e,version:n,context:r,policies:s};if(o&&(d.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:o},production_endpoints:{url:o}}),d.gatewayEnvironments=l.environment.map(e=>e.name),t&&(d.type="WS"),a){c=new W.a(d).saveProduct(d).then(e=>(b.a.info("API Product created successfully"),i.push("/api-products/".concat(e.id,"/overview")),e)).catch(e=>{if(e.response)b.a.error(e.response.body.description),p(e.response.body);else{const e="Something went wrong while adding the API Product";b.a.error(e),p(e)}console.error(e)})}else{c=new E.a(d).save().then(e=>(b.a.info("API created successfully"),e)).catch(e=>{if(e.response)b.a.error(e.response.body.description),p(e.response.body);else{const e="Something went wrong while adding the API";b.a.error(e),p(e)}console.error(e),w(!1)}).finally(()=>{I(!1)})}return c.finally(()=>I(!1))}let j=r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{variant:"h5"},r.a.createElement(g.a,{id:"Apis.Create.Default.APICreateDefault.api.heading",defaultMessage:"Create an API"})),r.a.createElement(u.a,{variant:"caption"},r.a.createElement(g.a,{id:"Apis.Create.Default.APICreateDefault.api.sub.heading",defaultMessage:"Create an API by providing a Name, a Version, a Context, Backend Endpoint(s) (optional), and Business Plans (optional)."})));return a?j=r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{variant:"h5"},r.a.createElement(g.a,{id:"Apis.Create.Default.APICreateDefault.apiProduct.heading",defaultMessage:"Create an API Product"})),r.a.createElement(u.a,{variant:"caption"},r.a.createElement(g.a,{id:"Apis.Create.Default.APICreateDefault.apiProduct.sub.heading",defaultMessage:"Create an API Product by providing a Name, a Context, and Business Plans (optional)."}))):t&&(j=r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{variant:"h5"},r.a.createElement(g.a,{id:"Apis.Create.Default.APICreateDefault.webSocket.heading",defaultMessage:"Create a WebSocket API"})),r.a.createElement(u.a,{variant:"caption"},r.a.createElement(g.a,{id:"Apis.Create.Default.APICreateDefault.webSocket.sub.heading",defaultMessage:"Create a WebSocket API by providing a Name, a Context, and Business Plans (optional)."})))),r.a.createElement(A,{title:j},r.a.createElement(m.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3},c&&r.a.createElement(m.a,{item:!0,xs:11},r.a.createElement(v.a,{onClose:()=>p(null),disableActions:!0,dense:!0,paperProps:{elevation:1},type:"error",message:c})),r.a.createElement(m.a,{item:!0,xs:12}),r.a.createElement(m.a,{item:!0,md:1,xs:0}),r.a.createElement(m.a,{item:!0,md:11,xs:12},r.a.createElement(V,{onValidate:function(e){S({action:"isFormValid",value:e})},onChange:function(e){const{name:t,value:a}=e.target;S({action:t,value:a})},api:C,isAPIProduct:a,isWebSocket:t})),r.a.createElement(m.a,{item:!0,md:1,xs:0}),r.a.createElement(m.a,{item:!0,md:11,xs:12},r.a.createElement(m.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},r.a.createElement(m.a,{item:!0},r.a.createElement(h.a,{variant:"contained",color:"primary",disabled:T,onClick:function(){D().then(e=>{i.push("/apis/".concat(e.id,"/overview"))})}},"Create"," ",d&&!O&&r.a.createElement(y.a,{size:24}))),!s.a.isNotPublisher()&&r.a.createElement(m.a,{item:!0},r.a.createElement(h.a,{id:"itest-id-apicreatedefault-createnpublish",variant:"contained",color:"primary",disabled:!x||T,onClick:function(){w(!0),D().then(e=>e.publish().then(t=>{const{workflowStatus:a}=t.body;a===F.WORKFLOW_STATUS.CREATED?b.a.info(o.formatMessage({id:"Apis.Create.Default.APICreateDefault.success.publishStatus",defaultMessage:"Lifecycle state change request has been sent"})):b.a.info(o.formatMessage({id:"Apis.Create.Default.APICreateDefault.success.otherStatus",defaultMessage:"API updated succesfully"})),i.push("/apis/".concat(e.id,"/overview"))}).catch(e=>{if(e.response)b.a.error(e.response.body.description),p(e.response.body);else{const e="Something went wrong while publishing the API";b.a.error(o.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.errorMessage",defaultMessage:e})),p(e)}console.error(e)}).finally(()=>{w(!1)}))}},!O&&"Create & Publish",O&&r.a.createElement(y.a,{size:24}),d&&O&&"Creating API . . .",!d&&O&&"Publishing API . . .")),r.a.createElement(m.a,{item:!0},r.a.createElement(f.b,{to:"/apis/"},r.a.createElement(h.a,{variant:"text"},r.a.createElement(g.a,{id:"Apis.Create.Default.APICreateDefault.cancel",defaultMessage:"Cancel"}))))))))}F.defaultProps={isWebSocket:!1,isAPIProduct:!1},F.WORKFLOW_STATUS={CREATED:"CREATED"},F.propTypes={history:p.a.shape({push:p.a.func}).isRequired,isAPIProduct:p.a.shape({}),isWebSocket:p.a.shape({}),intl:p.a.shape({formatMessage:p.a.func}).isRequired};var z=Object(i.withRouter)(Object(g.d)(F)),G=a(1050),Q=a(1248),H=a(1250),$=a(1251);function K(e){const{title:t,children:a}=e;return r.a.createElement(m.a,{container:!0,spacing:3},r.a.createElement(m.a,{item:!0,sm:12,md:12}),r.a.createElement(m.a,{item:!0,sm:0,md:2}),r.a.createElement(m.a,{item:!0,sm:12,md:8},r.a.createElement(m.a,{container:!0,spacing:5},r.a.createElement(m.a,{item:!0,md:12},t),r.a.createElement(m.a,{item:!0,md:12},r.a.createElement(I.a,{elevation:0},a)))),r.a.createElement(m.a,{item:!0,sm:0,md:2}))}K.propTypes={title:p.a.element.isRequired,children:p.a.element.isRequired};var J=a(1605);function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach(function(t){Z(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ee=Object(T.a)(e=>({Paper:{height:"40px"},saveButton:{padding:"0px 0px 0px 10px"},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:e.spacing(2)},buttonWrapper:{marginTop:e.spacing(4)},alternativeLabel:{marginTop:e.spacing(1)}}));function te(e){const{history:t}=e,[a,i]=Object(n.useState)(0),[o,s]=Object(n.useState)([]),{settings:l}=Object(P.c)(),c=r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{variant:"h5"},r.a.createElement(g.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.heading",defaultMessage:"Create an API Product"})),r.a.createElement(u.a,{variant:"caption"},r.a.createElement(g.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.sub.heading",defaultMessage:"Create an API Product by providing a Name, a Context, Resources, and Business Plans (optional)."})));const[p,d]=Object(n.useReducer)(function(e,t){const{action:a,value:n}=t;switch(a){case"type":case"name":case"context":case"version":case"policies":case"isFormValid":case"apiResources":return X({},e,{[a]:n});case"preSetAPI":return X({},e,{name:n.name.replace(/[&\/\\#,+()$~%.'":*?<>{}\s]/g,""),context:n.context});default:return e}},{type:"ApiProductCreateWrapper",inputValue:"",formValidity:!1});const[E,v]=Object(n.useState)(),I=ee(),A=[r.a.createElement(g.a,{variant:"caption",id:"Apis.Create.APIProduct.APIProductCreateWrapper.defineProvide",defaultMessage:"Define API Product"}),r.a.createElement(g.a,{variant:"caption",id:"Apis.Create.APIProduct.APIProductCreateWrapper.resources",defaultMessage:"Add Resources"})];return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:c},r.a.createElement(G.a,null,0===a&&r.a.createElement(Q.a,{alternativeLabel:!0,activeStep:0},A.map(e=>r.a.createElement(H.a,{key:e},r.a.createElement($.a,{className:I.alternativeLabel},e)))),1===a&&r.a.createElement(Q.a,{alternativeLabel:!0,activeStep:1},A.map(e=>r.a.createElement(H.a,{key:e},r.a.createElement($.a,null,e))))),r.a.createElement(m.a,{container:!0,spacing:2},0===a&&r.a.createElement(m.a,{item:!0,md:12}),0===a&&r.a.createElement(m.a,{item:!0,md:1}),r.a.createElement(m.a,{item:!0,md:0===a?11:12},0===a&&r.a.createElement(V,{onValidate:function(e){d({action:"isFormValid",value:e})},onChange:function(e){const{name:t,value:a}=e.target;d({action:t,value:a})},api:p,isAPIProduct:!0}),1===a&&r.a.createElement(J.a,{apiResources:o,setApiResources:s,isStateCreate:!0,api:p})),0===a&&r.a.createElement(m.a,{item:!0,md:1}),r.a.createElement(m.a,{item:!0,md:9},r.a.createElement(m.a,{className:1===a&&I.saveButton,container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},r.a.createElement(m.a,{item:!0},1===a&&r.a.createElement(h.a,{onClick:()=>i(e=>e-1)},r.a.createElement(g.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.back",defaultMessage:"Back"})),0===a&&r.a.createElement(f.b,{to:"/apis/"},r.a.createElement(h.a,null,r.a.createElement(g.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.cancel",defaultMessage:"Cancel"})))),r.a.createElement(m.a,{item:!0},1===a&&r.a.createElement(h.a,{variant:"contained",color:"primary",disabled:!p.isFormValid||E||0===o.length,onClick:()=>{v(!0);const{name:e,context:a,policies:n}=p,r={name:e,context:a,policies:n,apis:o};r.gatewayEnvironments=l.environment.map(e=>e.name),r.transport=["http","https"],new W.a(r).saveProduct(r).then(e=>{b.a.info("API Product created successfully"),t.push("/api-products/".concat(e.id,"/overview"))}).catch(e=>{e.response?b.a.error(e.response.body.description):b.a.error("Something went wrong while adding the API Product")}).finally(()=>v(!1))}},r.a.createElement(g.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.publish",defaultMessage:"Publish"}),E&&r.a.createElement(y.a,{size:24})),0===a&&r.a.createElement(h.a,{onClick:()=>i(e=>e+1),variant:"contained",color:"primary",disabled:!p.isFormValid},r.a.createElement(g.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.next",defaultMessage:"Next"}))))))))}te.propTypes={history:p.a.shape({push:p.a.func}).isRequired};var ae=a(1252);function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(a,!0).forEach(function(t){ie(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ie(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function oe(e){const[t,a]=Object(n.useState)(0),{history:i}=e;const[o,s]=Object(n.useReducer)(function(e,t){const{action:a,value:n}=t;switch(a){case"type":case"inputValue":case"name":case"version":case"endpoint":case"context":case"policies":case"isFormValid":return re({},e,{[a]:n});case"inputType":return re({},e,{[a]:n,inputValue:"url"===n?"":null});case"preSetAPI":return re({},e,{name:n.name.replace(/[&\/\\#,+()$~%.'":*?<>{}\s]/g,""),version:n.version,context:n.context});default:return e}},{type:"ApiCreateOpenAPI",inputType:"url",inputValue:"",formValidity:!1});function l(e){s({action:"isFormValid",value:e})}const[c,p]=Object(n.useState)();return r.a.createElement(A,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{variant:"h5"},r.a.createElement(g.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.heading",defaultMessage:"Create an API using an OpenAPI definition."})),r.a.createElement(u.a,{variant:"caption"},r.a.createElement(g.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.sub.heading",defaultMessage:"Create an API using an existing OpenAPI definition (swagger) file or URL."})))},r.a.createElement(G.a,null,r.a.createElement(Q.a,{alternativeLabel:!0,activeStep:0},r.a.createElement(H.a,null,r.a.createElement($.a,null,r.a.createElement(g.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.wizard.one",defaultMessage:"Provide OpenAPI"}))),r.a.createElement(H.a,null,r.a.createElement($.a,null,r.a.createElement(g.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.wizard.two",defaultMessage:"Create API"}))))),r.a.createElement(m.a,{container:!0,spacing:3},r.a.createElement(m.a,{item:!0,xs:12}),r.a.createElement(m.a,{item:!0,xs:1}),r.a.createElement(m.a,{item:!0,xs:11},0===t&&r.a.createElement(ae.a,{onValidate:l,apiInputs:o,inputsDispatcher:s}),1===t&&r.a.createElement(V,{onValidate:l,onChange:function(e){const{name:t,value:a}=e.target;s({action:t,value:a})},api:o,isAPIProduct:!1})),r.a.createElement(m.a,{item:!0,xs:1}),r.a.createElement(m.a,{item:!0,xs:11},r.a.createElement(m.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},r.a.createElement(m.a,{item:!0},0===t&&r.a.createElement(f.b,{to:"/apis/"},r.a.createElement(h.a,null,r.a.createElement(g.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.cancel",defaultMessage:"Cancel"}))),1===t&&r.a.createElement(h.a,{onClick:()=>a(e=>e-1)},"Back")),r.a.createElement(m.a,{item:!0},0===t&&r.a.createElement(h.a,{onClick:()=>a(e=>e+1),variant:"contained",color:"primary",disabled:!o.isFormValid},"Next"),1===t&&r.a.createElement(h.a,{variant:"contained",color:"primary",disabled:!o.isFormValid||c,onClick:function(){p(!0);const{name:e,version:t,context:a,endpoint:n,policies:r,inputValue:s,inputType:l}=o,c={name:e,version:t,context:a,policies:r};n&&(c.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:n},production_endpoints:{url:n}}),c.gatewayEnvironments=["Production and Sandbox"];const d=new E.a(c);("file"===l?d.importOpenAPIByFile(s):d.importOpenAPIByUrl(s)).then(e=>{b.a.info("API created successfully"),i.push("/apis/".concat(e.id,"/overview"))}).catch(e=>{e.response?b.a.error(e.response.body.description):b.a.error("Something went wrong while adding the API"),console.error(e)}).finally(()=>p(!1))}},"Create"," ",c&&r.a.createElement(y.a,{size:24})))))))}oe.propTypes={history:p.a.shape({push:p.a.func}).isRequired};var se=a(1258),le=a(1259);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(a,!0).forEach(function(t){de(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function de(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ue(e){const[t,a]=Object(n.useState)(0),{history:i}=e,{settings:o}=Object(P.c)();const[s,l]=Object(n.useReducer)(function(e,t){const{action:a,value:n}=t;switch(a){case"type":case"inputValue":case"name":case"version":case"endpoint":case"context":case"policies":case"isFormValid":return pe({},e,{[a]:n});case"inputType":return pe({},e,{[a]:n,inputValue:"url"===n?"":null});default:return e}},{type:"SOAP",inputType:"url",inputValue:"",formValidity:!1,mode:"create"});function c(e){l({action:"isFormValid",value:e})}const[p,d]=Object(n.useState)();return r.a.createElement(A,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{variant:"h5"},r.a.createElement(g.a,{id:"Apis.Create.WSDL.ApiCreateWSDL.heading",defaultMessage:"Expose a SOAP Service as a REST API"})),r.a.createElement(u.a,{variant:"caption"},r.a.createElement(g.a,{id:"Apis.Create.WSDL.ApiCreateWSDL.sub.heading",defaultMessage:"Expose an existing SOAP service as a REST API by importing the WSDL of the SOAP service."})))},r.a.createElement(G.a,null,r.a.createElement(Q.a,{alternativeLabel:!0,activeStep:t},r.a.createElement(H.a,null,r.a.createElement($.a,null,"Provide WSDL")),r.a.createElement(H.a,null,r.a.createElement($.a,null,"Create API")))),r.a.createElement(m.a,{container:!0,spacing:3},r.a.createElement(m.a,{item:!0,md:12}),r.a.createElement(m.a,{item:!0,md:1}),r.a.createElement(m.a,{item:!0,md:11},0===t&&r.a.createElement(le.a,{onValidate:c,apiInputs:s,inputsDispatcher:l}),1===t&&r.a.createElement(V,{onValidate:c,onChange:function(e){const{name:t,value:a}=e.target;l({action:t,value:a})},api:s,isAPIProduct:!1})),r.a.createElement(m.a,{item:!0,md:1}),r.a.createElement(m.a,{item:!0,md:9},r.a.createElement(m.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},r.a.createElement(m.a,{item:!0},0===t&&r.a.createElement(f.b,{to:"/apis/"},r.a.createElement(h.a,null,r.a.createElement(g.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.cancel",defaultMessage:"Cancel"}))),1===t&&r.a.createElement(h.a,{onClick:()=>a(e=>e-1)},"Back")),r.a.createElement(m.a,{item:!0},0===t&&r.a.createElement(h.a,{onClick:()=>a(e=>e+1),variant:"contained",color:"primary",disabled:!s.isFormValid},"Next"),1===t&&r.a.createElement(h.a,{variant:"contained",color:"primary",disabled:!s.isFormValid||p,onClick:function(){d(!0);const{name:e,version:t,context:a,endpoint:n,policies:r,type:l}=s,c={name:e,version:t,context:a,policies:r};let p;n&&(c.endpointConfig={endpoint_type:"SOAPTOREST"===l?"address":"http",sandbox_endpoints:{type:"SOAPTOREST"===l?"address":void 0,url:n},production_endpoints:{type:"SOAPTOREST"===l?"address":void 0,url:n}}),c.gatewayEnvironments=o.environment.map(e=>e.name),(p="url"===s.inputType?se.a.importByUrl(s.inputValue,c,s.type):se.a.importByFileOrArchive(s.inputValue,c,s.type)).then(e=>{b.a.info("API created successfully"),i.push("/apis/".concat(e.id,"/overview"))}).catch(e=>{e.response?b.a.error(e.response.body.description):b.a.error("Something went wrong while adding the API"),console.error(e)}).finally(()=>d(!1))}},"Create"," ",p&&r.a.createElement(y.a,{size:24})))))))}ue.propTypes={history:p.a.shape({push:p.a.func}).isRequired};var me=a(1260);function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(a,!0).forEach(function(t){fe(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function fe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function be(e){const[t,a]=Object(n.useState)(0),{history:i}=e;const[o,s]=Object(n.useReducer)(function(e,t){const{action:a,value:n}=t;switch(a){case"type":case"inputValue":case"name":case"version":case"endpoint":case"context":case"policies":case"isFormValid":return he({},e,{[a]:n});case"inputType":return he({},e,{[a]:n,inputValue:"url"===n?"":null});case"graphQLInfo":return he({},e,{[a]:n});case"preSetAPI":return he({},e,{name:n.name.replace(/[&\/\\#,+()$~%.'":*?<>{}\s]/g,""),version:n.version,context:n.context});default:return e}},{type:"ApiCreateGraphQL",inputType:"file",inputValue:"",formValidity:!1});function l(e){s({action:"isFormValid",value:e})}const[c,p]=Object(n.useState)();return r.a.createElement(A,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{variant:"h5"},r.a.createElement(g.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.heading",defaultMessage:"Create an API using a GraphQL SDL definition"})),r.a.createElement(u.a,{variant:"caption"},r.a.createElement(g.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.sub.heading",defaultMessage:"Create an API by importing an existing GraphQL SDL definition."})))},r.a.createElement(G.a,null,0===t&&r.a.createElement(Q.a,{alternativeLabel:!0,activeStep:0},r.a.createElement(H.a,null,r.a.createElement($.a,null,r.a.createElement(g.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.one",defaultMessage:"Provide GraphQL"}))),r.a.createElement(H.a,null,r.a.createElement($.a,null,r.a.createElement(g.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.two",defaultMessage:"Create API"})))),1===t&&r.a.createElement(Q.a,{alternativeLabel:!0,activeStep:1},r.a.createElement(H.a,null,r.a.createElement($.a,null,r.a.createElement(g.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.one",defaultMessage:"Provide GraphQL"}))),r.a.createElement(H.a,null,r.a.createElement($.a,null,r.a.createElement(g.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.two",defaultMessage:"Create API"}))))),r.a.createElement(m.a,{container:!0,spacing:3},r.a.createElement(m.a,{item:!0,md:12}),r.a.createElement(m.a,{item:!0,md:1}),r.a.createElement(m.a,{item:!0,md:11},0===t&&r.a.createElement(me.a,{onValidate:l,apiInputs:o,inputsDispatcher:s}),1===t&&r.a.createElement(V,{onValidate:l,onChange:function(e){const{name:t,value:a}=e.target;s({action:t,value:a})},api:o,isAPIProduct:!1})),r.a.createElement(m.a,{item:!0,md:1}),r.a.createElement(m.a,{item:!0,md:9},r.a.createElement(m.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},r.a.createElement(m.a,{item:!0},0===t&&r.a.createElement(f.b,{to:"/apis/"},r.a.createElement(h.a,null,r.a.createElement(g.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.cancel",defaultMessage:"Cancel"}))),1===t&&r.a.createElement(h.a,{onClick:()=>a(e=>e-1)},"Back")),r.a.createElement(m.a,{item:!0},0===t&&r.a.createElement(h.a,{onClick:()=>a(e=>e+1),variant:"contained",color:"primary",disabled:!o.isFormValid},"Next"),1===t&&r.a.createElement(h.a,{variant:"contained",color:"primary",disabled:!o.isFormValid||c,onClick:function(){p(!0);const{name:e,version:t,context:a,endpoint:n,policies:r,implementationType:s,inputValue:l,graphQLInfo:{operations:c}}=o,d={name:e,version:t,context:a,policies:r,operations:c};n&&(d.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:n},production_endpoints:{url:n}}),d.gatewayEnvironments=["Production and Sandbox"];const u=new E.a(d),m={additionalProperties:JSON.stringify(d),implementationType:s,file:"file",file:l};u.importGraphQL(m).then(t=>{const a=t.obj.id;b.a.info("".concat(e," API created successfully")),i.push("/apis/".concat(a,"/overview"))}).catch(e=>{e.response?b.a.error(e.response.body.description):b.a.error("Something went wrong while adding the API"),console.error(e)}).finally(()=>p(!1))}},"Create"," ",c&&r.a.createElement(y.a,{size:24})))))))}be.propTypes={history:p.a.shape({push:p.a.func}).isRequired};var ye=()=>r.a.createElement(z,{isWebSocket:!0});function Ee(e){const{classes:t}=e;return r.a.createElement("main",{className:t.content},r.a.createElement(i.Switch,null,r.a.createElement(i.Route,{path:"/apis/create/rest",component:z}),r.a.createElement(i.Route,{path:"/api-products/create",component:te}),r.a.createElement(i.Route,{path:"/apis/create/graphQL",component:be}),r.a.createElement(i.Route,{path:"/apis/create/openapi",component:oe}),r.a.createElement(i.Route,{path:"/apis/create/wsdl",component:ue}),r.a.createElement(i.Route,{path:"/apis/create/ws",component:ye}),r.a.createElement(i.Route,{component:d.a})))}Ee.propTypes={classes:p.a.shape({content:p.a.string}).isRequired};var Pe=Object(l.a)({content:{flexGrow:1}})(Ee),ve=a(1052),Ie=a(1261),Ae=a(675),Oe=a.n(Ae),we=a(950),Ce=a.n(we),Se=a(1269),xe=a(1270),Te=a(1271),De=a(1272),je=a(1277),ke=a(865);class Re extends n.Component{constructor(e){super(e),this.state={isHover:!1,loading:!1},this.toggleMouseOver=this.toggleMouseOver.bind(this),this.handleApiDelete=this.handleApiDelete.bind(this)}handleApiDelete(){const{api:{id:e,name:t}}=this.props;this.setState({loading:!0});const{updateData:a,isAPIProduct:n}=this.props;if(n){E.a.deleteProduct(e).then(n=>{200===n.status?(a(e),b.a.info("API Product ".concat(t," deleted Successfully")),this.setState({loading:!1})):b.a.info("Something went wrong while deleting the API Product!")}).catch(e=>{409===e.status?(b.a.error("[ "+t+" ] : "+e.response.body.description),this.setState({loading:!1})):(b.a.error("Something went wrong while deleting the API Product!"),this.setState({loading:!1}))})}else{E.a.delete(e).then(n=>{200===n.status?(a(e),b.a.info("API ".concat(t," deleted Successfully")),this.setState({loading:!1})):b.a.info("Something went wrong while deleting the API!")}).catch(e=>{409===e.status?(b.a.error("[ "+t+" ] : "+e.response.body.description),this.setState({loading:!1})):(b.a.error("Something went wrong while deleting the API!"),this.setState({loading:!1}))})}}toggleMouseOver(e){this.setState({isHover:"mouseover"===e.type})}render(){const{classes:e,api:t,isAPIProduct:a}=this.props,{isHover:n,loading:i}=this.state;let o="";return o=t.apiType?a?"/api-products/".concat(t.id,"/overview"):"/apis/".concat(t.id,"/overview"):"/apis/".concat(t.apiUUID,"/documents/").concat(t.id,"/details"),t.apiType=a?E.a.CONSTS.APIProduct:E.a.CONSTS.API,t.lifeCycleStatus||(t.lifeCycleStatus=t.status),r.a.createElement(Se.a,{onMouseOver:this.toggleMouseOver,onFocus:this.toggleMouseOver,onMouseOut:this.toggleMouseOver,onBlur:this.toggleMouseOver,raised:n,className:e.card},r.a.createElement(De.a,{src:"None",component:ke.a,height:140,title:"Thumbnail",api:t}),r.a.createElement(Te.a,{className:e.apiDetails},r.a.createElement("div",{className:e.textWrapper},r.a.createElement(f.b,{to:o},r.a.createElement(u.a,{gutterBottom:!0,variant:"h4",className:e.thumbHeader,title:t.name},t.name))),r.a.createElement("div",{className:e.row},r.a.createElement(u.a,{variant:"caption",gutterBottom:!0,align:"left",className:e.thumbBy},r.a.createElement(g.a,{id:"by",defaultMessage:"By"}),r.a.createElement(g.a,{id:"colon",defaultMessage:" : "}),t.provider)),r.a.createElement("div",{className:e.thumbInfo},a?null:r.a.createElement("div",{className:e.row},r.a.createElement("div",{className:e.thumbLeft},r.a.createElement(u.a,{variant:"subtitle1"},t.version)),r.a.createElement("div",{className:e.thumbLeft},r.a.createElement(u.a,{variant:"caption",gutterBottom:!0,align:"left"},r.a.createElement(g.a,{defaultMessage:"Version",id:"Apis.Listing.ApiThumb.version"})))),r.a.createElement("div",{className:e.row},r.a.createElement("div",{className:e.thumbRight},r.a.createElement(u.a,{variant:"subtitle1",align:"right",className:e.contextBox},t.context)),r.a.createElement("div",{className:e.thumbRight},r.a.createElement(u.a,{variant:"caption",gutterBottom:!0,align:"right",className:e.context},r.a.createElement(g.a,{defaultMessage:"Context",id:"Apis.Listing.ApiThumb.context"})))))),r.a.createElement(xe.a,{className:e.apiActions},r.a.createElement(x.a,{label:t.apiType===E.a.CONSTS.APIProduct?t.state:t.lifeCycleStatus,color:"default"}),("GRAPHQL"===t.type||"GRAPHQL"===t.transportType)&&r.a.createElement(x.a,{className:e.thumbRightBy,label:void 0===t.transportType?t.type:t.transportType,color:"primary"}),r.a.createElement(je.a,{onClick:this.handleApiDelete,api:t}),i&&r.a.createElement(y.a,{className:e.deleteProgress})))}}Re.propTypes={classes:p.a.shape({}).isRequired,api:p.a.shape({id:p.a.string,name:p.a.string,apiType:p.a.string.isRequired}).isRequired,updateData:p.a.func.isRequired,isAPIProduct:p.a.bool.isRequired};var Le=Object(g.d)(Object(l.a)(e=>({card:{margin:e.spacing(1.5),maxWidth:e.spacing(32),transition:"box-shadow 0.3s ease-in-out"},providerText:{textTransform:"capitalize"},apiDetails:{padding:e.spacing(1)},apiActions:{justifyContent:"space-between",padding:"0px 0px ".concat(e.spacing(1),"px 8px")},deleteProgress:{color:j.a[200],position:"absolute",marginLeft:"200px"},thumbHeader:{width:"90%",whiteSpace:"nowrap",color:e.palette.text.secondary,overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,"padding-left":"5px"},imageWrapper:{color:e.palette.text.secondary,backgroundColor:e.palette.background.paper,width:e.custom.thumbnail.width+e.spacing(1),display:"flex",alignItems:"center",justifyContent:"center"},thumbContent:{width:e.custom.thumbnail.width-e.spacing(1),backgroundColor:e.palette.background.paper,padding:e.spacing(1)},thumbLeft:{alignSelf:"flex-start",flex:1,width:"25%","padding-left":"5px","padding-right":"65px"},thumbRight:{alignSelf:"flex-end"},thumbInfo:{display:"flex"},contextBox:{width:"110px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,display:"inline-block",lineHeight:"1em","padding-top":5,"padding-right":5,"padding-bottom":1.5,textAlign:"left"},imageOverlap:{position:"absolute",bottom:1,backgroundColor:e.custom.thumbnail.contentBackgroundColor},row:{display:"inline-block"},textWrapper:{color:e.palette.text.secondary,textDecoration:"none"},thumbBy:{"padding-left":"5px"},thumbRightBy:{"margin-right":"5px"}}))(Re));class Me extends n.Component{constructor(e){super(e),this.state={isHover:!1},this.toggleMouseOver=this.toggleMouseOver.bind(this)}toggleMouseOver(e){this.setState({isHover:"mouseover"===e.type})}render(){const{classes:e,doc:t}=this.props,{isHover:a}=this.state;return r.a.createElement(Se.a,{onMouseOver:this.toggleMouseOver,onFocus:this.toggleMouseOver,onMouseOut:this.toggleMouseOver,onBlur:this.toggleMouseOver,raised:a,className:e.card},r.a.createElement(De.a,{src:"None",component:ke.a,height:140,title:"Thumbnail",api:t}),r.a.createElement(Te.a,{className:e.docDetails},r.a.createElement(u.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.name),r.a.createElement(m.a,{container:!0},r.a.createElement(m.a,{item:!0,md:6},r.a.createElement(g.a,{id:"Apis.Listing.components.ImageGenerator.DocThumb.sourceType",defaultMessage:"Source Type"}),":",r.a.createElement(u.a,{variant:"body1"},t.sourceType)),r.a.createElement(m.a,{item:!0,md:6},r.a.createElement(g.a,{id:"Apis.Listing.components.ImageGenerator.DocThumb.apiName",defaultMessage:"Api Name"}),":",r.a.createElement(u.a,{className:e.providerText,variant:"body1",gutterBottom:!0},t.apiName)),r.a.createElement(m.a,{item:!0,md:6},r.a.createElement(g.a,{id:"Apis.Listing.components.ImageGenerator.DocThumb.apiVersion",defaultMessage:"Api Version"}),":",r.a.createElement(u.a,{variant:"body1",gutterBottom:!0},t.apiVersion)))))}}Me.propTypes={classes:p.a.shape({}).isRequired,doc:p.a.shape({id:p.a.string,name:p.a.string,sourceType:p.a.string.isRequired,apiName:p.a.string.isRequired,apiVersion:p.a.string.isRequired}).isRequired};var Ne=Object(g.d)(Object(l.a)(e=>({card:{margin:e.spacing(1.5),maxWidth:e.spacing(32),transition:"box-shadow 0.3s ease-in-out"},providerText:{textTransform:"capitalize"},docDetails:{padding:e.spacing(1)},docActions:{justifyContent:"space-between",padding:"0px 0px ".concat(e.spacing(1),"px 0px")},deleteProgress:{color:j.a[200],position:"absolute",marginLeft:"200px"}}))(Me)),_e=a(596),qe=a(2146),Ve=a.n(qe),We=a(1313),Ue=a.n(We),Be=a(2150),Fe=a.n(Be),ze=a(524),Ge=a(1207),Qe=a(1213),He=a(1217),$e=a(1218),Ke=a(1598),Je=a(1177),Ye=a(1176),Xe=a(1185);function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}class et extends r.a.Component{constructor(e){super(e),this.state={open:!1},this.handleToggle=this.handleToggle.bind(this),this.handleClose=this.handleClose.bind(this)}handleToggle(){this.setState(e=>({open:!e.open}))}handleClose(e){this.anchorEl.contains(e.target)||this.setState({open:!1})}render(){const{classes:e,children:t,menuList:a,buttonProps:n}=this.props,{open:i}=this.state;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,Ze({id:"itest-id-createapi",buttonRef:e=>{this.anchorEl=e},"aria-owns":i?"menu-list-grow":null,"aria-haspopup":"true",onClick:this.handleToggle},n),t," ","▼"),r.a.createElement(Xe.a,{open:i,placement:"bottom-start",anchorEl:this.anchorEl,transition:!0,disablePortal:!0,className:e.position},e=>{let{TransitionProps:t,placement:n}=e;return r.a.createElement(Ye.a,Ze({},t,{id:"menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(I.a,null,r.a.createElement(Je.a,{onClickAway:this.handleClose},a)))}))}}et.propTypes={classes:p.a.shape({position:p.a.shape({})}).isRequired,menuList:p.a.element.isRequired,children:p.a.shape({}).isRequired,buttonProps:p.a.shape({}).isRequired};var tt=Object(l.a)(e=>({root:{display:"flex"},paper:{marginRight:e.spacing(2)},position:{zIndex:e.zIndex.apiCreateMenu}}))(et);function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const nt=Object(Ke.a)(e=>({links:{textDecoration:"none",color:e.palette.getContrastText(e.palette.background.paper)}})),rt=e=>{const t=nt(),a=r.a.createElement(Ge.a,null,r.a.createElement(Qe.a,null,r.a.createElement(f.b,{id:"itest-id-createdefault",to:"/apis/create/rest",className:t.links},r.a.createElement(He.a,{primary:r.a.createElement(g.a,{id:"Apis.Listing.components.APICreateMenu.primary.rest",defaultMessage:"Design a New REST API"}),secondary:r.a.createElement(g.a,{id:"Apis.Listing.components.APICreateMenu.secondary.rest",defaultMessage:"Design and prototype a new REST API"})}))),r.a.createElement($e.a,null),r.a.createElement(Qe.a,null,r.a.createElement(f.b,{to:"/apis/create/openapi",className:t.links},r.a.createElement(He.a,{primary:r.a.createElement(g.a,{id:"Apis.Listing.components.APICreateMenu.primary.swagger",defaultMessage:"I Have an Existing REST API"}),secondary:r.a.createElement(g.a,{id:"Apis.Listing.components.APICreateMenu.secondary.swagger",defaultMessage:"Use an existing OpenAPI definition (swagger) file or URL"})}))),r.a.createElement($e.a,null),r.a.createElement(Qe.a,null,r.a.createElement(f.b,{to:"/apis/create/wsdl",className:t.links},r.a.createElement(He.a,{primary:r.a.createElement(g.a,{id:"Apis.Listing.components.APICreateMenu.primary.soap",defaultMessage:"I Have a SOAP Endpoint"}),secondary:r.a.createElement(g.a,{id:"Apis.Listing.components.APICreateMenu.secondary.soap",defaultMessage:"Use an existing SOAP or import the WSDL"})}))),r.a.createElement($e.a,null),r.a.createElement(Qe.a,null,r.a.createElement(f.b,{to:"/apis/create/graphQL",className:t.links},r.a.createElement(He.a,{primary:r.a.createElement(g.a,{id:"Apis.Listing.components.APICreateMenu.primary.graphql",defaultMessage:"I Have a GraphQL SDL schema"}),secondary:r.a.createElement(g.a,{id:"Apis.Listing.components.APICreateMenu.secondary.graphql",defaultMessage:"Import a GraphQL SDL schema"})}))),r.a.createElement($e.a,null),r.a.createElement(Qe.a,null,r.a.createElement(f.b,{to:"/apis/create/ws",className:t.links},r.a.createElement(He.a,{primary:r.a.createElement(g.a,{id:"Apis.Listing.components.APICreateMenu.primary.ws",defaultMessage:"Design New WebSocket API"}),secondary:r.a.createElement(g.a,{id:"Apis.Listing.components.APICreateMenu.secondary.ws",defaultMessage:"Design and prototype a new WebSocket API"})}))));return!s.a.isNotCreator()&&r.a.createElement(tt,at({},e,{menuList:a}))};rt.propTypes={children:p.a.oneOfType([p.a.element,p.a.array]).isRequired};var it=rt;var ot=e=>({paths:{"/order":{post:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Create a new Order",parameters:[{schema:{$ref:"#/definitions/Order"},description:"Order object that needs to be added",name:"body",required:!0,in:"body"}],responses:{201:{headers:{Location:{description:"The URL of the newly created resource.",type:"string"},"Content-Type":{description:"The content type of the body.",type:"string"}},schema:{$ref:"#/definitions/Order"},description:"Created. Successful response with the newly created object as entity inthe body. Location header contains URL of newly created entity."},400:{schema:{$ref:"#/definitions/Error"},description:"Bad Request. Invalid request or validation error."},415:{schema:{$ref:"#/definitions/Error"},description:"Unsupported Media Type. The entity of the request was in a not supported format."}}}},"/menu":{get:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Return a list of available menu items",parameters:[],responses:{200:{headers:{},schema:{items:{$ref:"#/definitions/MenuItem"},type:"array"},description:"OK. List of APIs is returned."},304:{description:"Not Modified. Empty body because the client has already the latest version of the requested resource."},406:{schema:{$ref:"#/definitions/Error"},description:"Not Acceptable. The requested media type is not supported"}}}},"/order/{orderId}":{put:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Update an existing Order",parameters:[{description:"Order Id",name:"orderId",format:"string",type:"string",required:!0,in:"path"},{schema:{$ref:"#/definitions/Order"},description:"Order object that needs to be added",name:"body",required:!0,in:"body"}],responses:{200:{headers:{Location:{description:"The URL of the newly created resource.",type:"string"},"Content-Type":{description:"The content type of the body.",type:"string"}},schema:{$ref:"#/definitions/Order"},description:"OK. Successful response with updated Order"},400:{schema:{$ref:"#/definitions/Error"},description:"Bad Request. Invalid request or validation error"},404:{schema:{$ref:"#/definitions/Error"},description:"Not Found. The resource to be updated does not exist."},412:{schema:{$ref:"#/definitions/Error"},description:"Precondition Failed. The request has not been performed because one of the preconditions is not met."}}},get:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Get details of an Order",parameters:[{description:"Order Id",name:"orderId",format:"string",type:"string",required:!0,in:"path"}],responses:{200:{schema:{$ref:"#/definitions/Order"},headers:{},description:"OK Requested Order will be returned"},304:{description:"Not Modified. Empty body because the client has already the latest version of the requested resource."},404:{schema:{$ref:"#/definitions/Error"},description:"Not Found. Requested API does not exist."},406:{schema:{$ref:"#/definitions/Error"},description:"Not Acceptable. The requested media type is not supported"}}},delete:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Delete an existing Order",parameters:[{description:"Order Id",name:"orderId",format:"string",type:"string",required:!0,in:"path"}],responses:{200:{description:"OK. Resource successfully deleted."},404:{schema:{$ref:"#/definitions/Error"},description:"Not Found. Resource to be deleted does not exist."},412:{schema:{$ref:"#/definitions/Error"},description:"Precondition Failed. The request has not been performed because one of the preconditions is not met."}}}}},schemes:["https"],produces:["application/json"],swagger:"2.0",definitions:{ErrorListItem:{title:"Description of individual errors that may have occored during a request.",properties:{message:{description:"Description about individual errors occored",type:"string"},code:{format:"int64",type:"integer"}},required:["code","message"]},MenuItem:{title:"Pizza menu Item",properties:{price:{type:"string"},description:{type:"string"},name:{type:"string"},image:{type:"string"}},required:["name"]},Order:{title:"Pizza Order",properties:{customerName:{type:"string"},delivered:{type:"boolean"},address:{type:"string"},pizzaType:{type:"string"},creditCardNumber:{type:"string"},quantity:{type:"number"},orderId:{type:"string"}},required:["orderId"]},Error:{title:"Error object returned with 4XX HTTP status",properties:{message:{description:"Error message.",type:"string"},error:{items:{$ref:"#/definitions/ErrorListItem"},description:"If there are more than one error list them out. Ex. list out validation errors by each field.",type:"array"},description:{description:"A detail description about the error message.",type:"string"},code:{format:"int64",type:"integer"},moreInfo:{description:"Preferably an url with more details about the error.",type:"string"}},required:["code","message"]}},consumes:["application/json"],info:{title:"PizzaShackAPI",description:"This is a RESTFul API for Pizza Shack online pizza delivery store.\n",license:{name:"Apache 2.0",url:"http://www.apache.org/licenses/LICENSE-2.0.html"},contact:{email:"architecture@pizzashack.com",name:"John Doe",url:"http://www.pizzashack.com"},version:"1.0.0"}});class st extends n.Component{constructor(e){super(e),this.state={published:!1,api:null,deploying:!1},this.sampleApi=new E.a,this.handleDeploySample=this.handleDeploySample.bind(this),this.createSampleAPI=this.createSampleAPI.bind(this)}handleDeploySample(){const{intl:e}=this.props;this.setState({deploying:!0});const t=this.createSampleAPI().then(e=>(e.updateSwagger(ot("Unlimited")),e));t.catch(e=>{console.error(e),b.a.error(e)}),s.a.isNotPublisher()?t.then(t=>{this.setState({published:!0,api:t}),b.a.info(e.formatMessage({id:"Apis.Listing.SampleAPI.SampleAPI.created",defaultMessage:"Sample PizzaShackAPI API created successfully"}))}).catch(e=>{b.a.error(e)}):t.then(t=>{t.publish().then(()=>{this.setState({published:!0,api:t}),b.a.info(e.formatMessage({id:"Apis.Listing.SampleAPI.SampleAPI.created",defaultMessage:"Sample PizzaShackAPI API created successfully"}))}).catch(e=>{this.setState({deploying:!1}),b.a.error(e)})})}createSampleAPI(){return new E.a({name:"PizzaShackAPI",description:"This is a simple API for Pizza Shack online pizza delivery store.",context:"/pizzashack",version:"1.0.0",transport:["http","https"],tags:["pizza"],policies:["Unlimited"],securityScheme:["oauth2"],visibility:"PUBLIC",gatewayEnvironments:["Production and Sandbox"],businessInformation:{businessOwner:"Jane Roe",businessOwnerEmail:"marketing@pizzashack.com",technicalOwner:"John Doe",technicalOwnerEmail:"architecture@pizzashack.com"},endpointConfig:{endpoint_type:"http",sandbox_endpoints:{url:"https://localhost:9443/am/sample/pizzashack/v1/api/"},production_endpoints:{url:"https://localhost:9443/am/sample/pizzashack/v1/api/"}},operations:[{target:"/order/{orderId}",verb:"GET",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/order/{orderId}",verb:"DELETE",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/order/{orderId}",verb:"PUT",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/menu",verb:"GET",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/order",verb:"POST",throttlingPolicy:"Unlimited",authType:"Application & Application User"}]}).save().catch(e=>{console.error(e),this.setState({deploying:!1});const{response:t}=e;if(t){const{code:e,description:a,message:n}=t.body;b.a.error("ERROR[".concat(e,"] : ").concat(a," | ").concat(n))}else b.a.error(e)})}render(){const{published:e,api:t,deploying:a}=this.state,{classes:n}=this.props;if(e&&t){const e="/apis/"+t.id+"/overview";return r.a.createElement(Ve.a,{to:e})}return r.a.createElement(ze.a,{type:"info",height:140},r.a.createElement("div",{className:n.contentWrapper},r.a.createElement(u.a,{variant:"h5",component:"h3",className:n.head},r.a.createElement(g.a,{id:"welcome.to.wso2.api.manager",defaultMessage:"Welcome to WSO2 API Manager"})),r.a.createElement(u.a,{component:"p",className:n.content},r.a.createElement(g.a,{id:"Apis.Listing.SampleAPI.SampleAPI.description",defaultMessage:"WSO2 API Publisher enables API providers to  publish APIs, share documentation, provision API keys and gather feedback on features, quality and usage. To get started, Create an API or Publish a sample API."})),r.a.createElement("div",{className:n.actions},r.a.createElement(it,{buttonProps:{size:"small",color:"primary",variant:"contained",className:n.buttonLeft}},r.a.createElement(Ue.a,null),r.a.createElement(g.a,{id:"create.new.api",defaultMessage:"Create New API"})),!s.a.isNotCreator()&&r.a.createElement(h.a,{size:"small",color:"primary",disabled:a,variant:"contained",onClick:this.handleDeploySample},r.a.createElement(Fe.a,null),r.a.createElement(g.a,{id:"deploy.sample.api",defaultMessage:"Deploy Sample API"}),a&&r.a.createElement(y.a,{size:24,className:n.buttonProgress})))))}}st.propTypes={classes:c.PropTypes.shape({}).isRequired,intl:c.PropTypes.shape({formatMessage:c.PropTypes.func}).isRequired};var lt=Object(g.d)(Object(l.a)(e=>({buttonProgress:{color:j.a[500],position:"relative"},headline:{paddingTop:e.spacing(1.25),paddingLeft:e.spacing(2.5)},head:{paddingBottom:e.spacing(2),fontWeight:200},content:{paddingBottom:e.spacing(2)},buttonLeft:{marginRight:e.spacing(1)}}))(st)),ct=a(1314),pt=a.n(ct),dt=a(2151),ut=a.n(dt),mt=a(581),gt=a(674);function ht(e){const{classes:t,data:a,setListType:n,theme:i,count:o,isAPIProduct:s,listType:l}=e,c=i.palette.getContrastText(i.palette.background.paper);return o>0?r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.mainIconWrapper},r.a.createElement(gt.a,{strokeColor:c,width:42,height:42,icon:"api"})),r.a.createElement("div",{className:t.mainTitleWrapper},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{variant:"h5",className:t.mainTitle,component:"div"},s?r.a.createElement(g.a,{id:"Apis.Listing.components.TopMenu.apiproducts",defaultMessage:"API Products"}):r.a.createElement(g.a,{id:"Apis.Listing.components.TopMenu.apis",defaultMessage:"APIs"})),r.a.createElement(u.a,{variant:"caption",gutterBottom:!0,align:"left",component:"div"},r.a.createElement(g.a,{id:"Apis.Listing.components.TopMenu.displaying",defaultMessage:"Displaying"})," "," ",o," "," ",function(e){const{isAPIProduct:t,query:a}=e;return a?r.a.createElement(g.a,{id:"Apis.Listing.components.TopMenu.search.results",defaultMessage:"Search Result(s)"}):t?r.a.createElement(g.a,{id:"Apis.Listing.components.TopMenu.apiproduct(s)",defaultMessage:"API Product(s)"}):r.a.createElement(g.a,{id:"Apis.Listing.components.TopMenu.api(s)",defaultMessage:"API(s)"})}(e)))),r.a.createElement(mt.a,{height:70}),r.a.createElement("div",{className:t.APICreateMenu},s?r.a.createElement(f.b,{to:"/api-products/create"},r.a.createElement(h.a,{variant:"contained",className:t.createButton},r.a.createElement(g.a,{id:"Apis.Listing.components.TopMenu.create.an.api.product",defaultMessage:"Create an API Product"}))):r.a.createElement(it,{buttonProps:{variant:"contained",color:"primary",className:t.button}},r.a.createElement(g.a,{id:"Apis.Listing.components.TopMenu.create.api",defaultMessage:"Create API"}))),r.a.createElement("div",{className:t.buttonRight},r.a.createElement(C.a,{className:t.button,disabled:0===a.length,onClick:()=>n("list")},r.a.createElement(pt.a,{color:"list"===l?"primary":"default"})),r.a.createElement(C.a,{className:t.button,disabled:0===a.length,onClick:()=>n("grid")},r.a.createElement(ut.a,{color:"grid"===l?"primary":"default"})))):null}ht.propTypes={classes:p.a.shape({}).isRequired,setListType:p.a.func.isRequired,listType:p.a.string.isRequired,data:p.a.shape({length:p.a.number}).isRequired,count:p.a.number.isRequired,theme:p.a.shape({custom:p.a.string}).isRequired,isAPIProduct:p.a.bool.isRequired};var ft=Object(l.a)(e=>({rightIcon:{marginLeft:e.spacing(1)},button:{margin:e.spacing(1),marginBottom:0},buttonRight:{display:"flex"},ListingWrapper:{paddingTop:10,paddingLeft:35},root:{height:70,background:e.palette.background.paper,borderBottom:"solid 1px "+e.palette.grey.A200,display:"flex"},mainIconWrapper:{paddingTop:13,paddingLeft:35,paddingRight:20},mainTitleWrapper:{display:"flex",justifyContent:"center",flexDirection:"column"},APICreateMenu:{flexGrow:1,display:"flex",alignItems:"center"},content:{flexGrow:1},createButton:{color:"#000000",background:"#15b8cf"}}),{withTheme:!0})(ht);const bt=Object(T.a)(e=>({head:{paddingBottom:e.spacing(2),fontWeight:200},content:{paddingBottom:e.spacing(2)}}));function yt(){const e=bt();return r.a.createElement(ze.a,{type:"info",height:140},r.a.createElement("div",{className:e.contentWrapper},r.a.createElement(u.a,{variant:"h5",component:"h3",className:e.head},r.a.createElement(g.a,{id:"Apis.Listing.SampleAPIProduct.manager",defaultMessage:"Welcome to WSO2 API Manager"})),r.a.createElement(u.a,{component:"p",className:e.content},r.a.createElement(g.a,{id:"Apis.Listing.SampleAPIProduct.description",defaultMessage:"The API resources in an API product can come from one or more APIs, so you can mix and match resources from multiple API resources to create specialized feature sets."})),!s.a.isNotCreator()&&r.a.createElement("div",{className:e.actions},r.a.createElement(f.b,{id:"itest-id-createdefault",to:"/api-products/create",className:e.links},r.a.createElement(h.a,{size:"small",color:"primary",variant:"contained",className:"rightAlign"},r.a.createElement(Ue.a,null),r.a.createElement(g.a,{id:"Apis.Listing.SampleAPI.SampleAPIProduct.create.new.api.product",defaultMessage:"Create New API Product"}))))))}yt.propTypes={classes:c.PropTypes.shape({}).isRequired,intl:c.PropTypes.shape({formatMessage:c.PropTypes.func}).isRequired};var Et=Object(i.withRouter)(Object(g.d)(yt));function Pt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class vt extends r.a.Component{constructor(e){super(e),Pt(this,"getMuiTheme",()=>{const{listType:e}=this.state,{theme:t}=this.props;let a={},n={overrides:{MUIDataTable:{root:{backgroundColor:"transparent",marginLeft:40},paper:{boxShadow:"none",backgroundColor:"transparent"},tableRoot:{"& tbody":{backgroundColor:"#fff"}}},MUIDataTableBodyCell:{root:{backgroundColor:"transparent"}},MUIDataTableHeadCell:{fixedHeader:{zIndex:-1}}}};return"grid"===e&&(a={overrides:{MUIDataTable:{tableRoot:{display:"block","& tbody":{display:"flex",flexWrap:"wrap",backgroundColor:"transparent"},"& thead":{display:"none"}}}}}),n=Object.assign(t,n,a),Object(ve.a)(n)}),Pt(this,"getData",()=>{this.xhrRequest().then(e=>{const{body:t}=e,{list:a,pagination:n,count:r}=t,{total:i}=n;this.count>0&&0===i&&(this.page=0,this.removeLocalStorage(),this.getData()),this.count=i,this.setState({apisAndApiProducts:a,notFound:!1,displayCount:r})})}),Pt(this,"removeLocalStorage",()=>{const{isAPIProduct:e}=this.props,t=e?"products":"apis";window.localStorage.removeItem("pagination-"+t)}),Pt(this,"getLocalStorage",()=>{const{isAPIProduct:e}=this.props,t=e?"products":"apis",a=window.localStorage.getItem("pagination-"+t);if(a){const e=JSON.parse(a);e.page&&e.count&&e.rowsPerPage&&(this.page=e.page,this.count=e.count,this.rowsPerPage=e.rowsPerPage)}}),Pt(this,"setListType",e=>{this.setState({listType:e})}),Pt(this,"setLocalStorage",()=>{const{isAPIProduct:e}=this.props,t=e?"products":"apis",a={page:this.page,count:this.count,rowsPerPage:this.rowsPerPage};window.localStorage.setItem("pagination-"+t,JSON.stringify(a))}),Pt(this,"changePage",e=>{this.page=e,this.xhrRequest().then(e=>{const{body:t}=e,{list:a,count:n}=t;this.setState({apisAndApiProducts:a,notFound:!1,displayCount:n}),this.setLocalStorage()})}),Pt(this,"xhrRequest",()=>{const{page:e,rowsPerPage:t}=this,{isAPIProduct:a,query:n}=this.props;if(n){const a=Ce.a.parse(n);return a.limit=this.rowsPerPage,a.offset=e*t,E.a.search(a)}return a?W.a.all({limit:this.rowsPerPage,offset:e*t}):E.a.all({limit:this.rowsPerPage,offset:e*t})}),this.state={apisAndApiProducts:null,notFound:!0,displayCount:0,listType:e.theme.custom.defaultApiView},this.page=0,this.count=100,this.rowsPerPage=10,this.getLocalStorage(),this.setListType=this.setListType.bind(this),this.updateData=this.updateData.bind(this)}componentDidMount(){this.getLocalStorage(),this.getData()}componentDidUpdate(e){const{isAPIProduct:t,query:a}=this.props;t===e.isAPIProduct&&a===e.query||(this.getLocalStorage(),this.getData())}componentWillUnmount(){const{theme:e}=this.props;Object.assign(e,{overrides:{MUIDataTable:{tableRoot:{display:"table","& tbody":{display:"table-row-group"},"& thead":{display:"table-header-group"}}}}})}updateData(){const{page:e,rowsPerPage:t,count:a}=this;a-1==t*e&&0!==e&&(this.page=e-1),this.getData()}render(){var e=this;const{intl:t,isAPIProduct:a,classes:n,query:i}=this.props,o=[{name:"id",options:{display:"excluded",filter:!1}},{name:"name",label:t.formatMessage({id:"Apis.Listing.ApiTableView.name",defaultMessage:"Name"}),options:{customBodyRender:function(t,a,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.rowData){const{isAPIProduct:e}=o.props,t=o.state.apisAndApiProducts[a.rowIndex],i=a.rowData[1],s=a.rowData[0];if(e)return r.a.createElement(f.b,{to:"/api-products/"+s+"/overview",className:n.apiNameLink},r.a.createElement(gt.a,{width:16,height:16,icon:"api-product",strokeColor:"#444444"}),r.a.createElement("span",null,i));if(t)return"DOC"===t.type?r.a.createElement(f.b,{to:"/apis/"+t.apiUUID+"/documents/"+s+"/details",className:n.apiNameLink},r.a.createElement(S.a,null,"library_books"),r.a.createElement(g.a,{id:"Apis.Listing.TableView.TableView.doc.flag",defaultMessage:" [Doc]"}),r.a.createElement("span",null,i)):r.a.createElement(f.b,{to:"/apis/"+s+"/overview",className:n.apiNameLink},r.a.createElement(gt.a,{width:16,height:16,icon:"api",strokeColor:"#444444"}),r.a.createElement("span",null,i))}return r.a.createElement("span",null)},sort:!1,filter:!1}},{name:"version",label:t.formatMessage({id:"Apis.Listing.ApiTableView.version",defaultMessage:"Version"}),options:{sort:!1}},{name:"context",label:t.formatMessage({id:"Apis.Listing.ApiTableView.context",defaultMessage:"Context"}),options:{sort:!1}},{name:"provider",label:t.formatMessage({id:"Apis.Listing.ApiTableView.provider",defaultMessage:"Provider"}),options:{sort:!1}}],{page:s,count:l,rowsPerPage:c}=this,{apisAndApiProducts:p,notFound:u,listType:m,displayCount:h}=this.state,b={filterType:"dropdown",responsive:"stacked",serverSide:!0,search:!1,count:l,page:s,onTableChange:(e,t)=>{switch(e){case"changePage":this.changePage(t.page)}},selectableRows:"none",rowsPerPage:c,onChangeRowsPerPage:e=>{this.rowsPerPage=e,s*e>l?this.page=0:l-1==c*s&&0!==s&&(this.page=s-1),this.getData(),this.setLocalStorage()}};return"grid"===m?(b.customRowRender=function(t,a,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;const{isAPIProduct:o}=i.props,s=i.state.apisAndApiProducts[a];return s?"DOC"===s.type?r.a.createElement(Ne,{doc:s}):"APIPRODUCT"===s.type?(s.state="PUBLISHED",r.a.createElement(Le,{api:s,isAPIProduct:!0,updateData:i.updateData})):r.a.createElement(Le,{api:s,isAPIProduct:o,updateData:i.updateData}):r.a.createElement("span",null)},b.title=!1,b.filter=!1,b.print=!1,b.download=!1,b.viewColumns=!1,b.customToolbar=!1):(b.customRowRender=null,b.title=!0,b.filter=!1,b.print=!0,b.download=!0,b.viewColumns=!0),p?u?r.a.createElement(d.a,null):0!==p.length||i?r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,{data:p,count:h,setListType:this.setListType,isAPIProduct:a,listType:m,query:i}),r.a.createElement("div",{className:n.contentInside},r.a.createElement(Ie.a,{theme:this.getMuiTheme()},r.a.createElement(Oe.a,{title:"",data:p,columns:o,options:b})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,{data:p,count:h,setListType:this.setListType,isAPIProduct:a,listType:m}),r.a.createElement("div",{className:n.contentInside},a?r.a.createElement(Et,null):r.a.createElement(lt,null))):r.a.createElement(_e.a,null)}}var It=Object(g.d)(Object(l.a)(e=>({contentInside:{padding:e.spacing(3),paddingTop:e.spacing(2),'& > div[class^="MuiPaper-root-"]':{boxShadow:"none",backgroundColor:"transparent"}},apiNameLink:{display:"flex",alignItems:"center","& span":{marginLeft:e.spacing(1)}}}),{withTheme:!0})(vt));vt.propTypes={classes:p.a.shape({}).isRequired,intl:p.a.shape({formatMessage:p.a.func.isRequired}).isRequired,isAPIProduct:p.a.bool.isRequired,theme:p.a.shape({custom:p.a.string}).isRequired,query:p.a.string},vt.defaultProps={query:""};function At(e){const{classes:t,isAPIProduct:a,theme:n,location:{search:i}}=e;return r.a.createElement("main",{className:t.content},r.a.createElement(It,{isAPIProduct:a,theme:n,query:i}))}At.propTypes={classes:p.a.shape({content:p.a.string,contentInside:p.a.string}).isRequired,theme:p.a.shape({custom:p.a.string}).isRequired,isAPIProduct:p.a.bool.isRequired,location:p.a.shape({search:p.a.string})},At.defaultProps={location:p.a.shape({search:""})};var Ot=Object(l.a)({content:{flexGrow:1}},{withTheme:!0})(At);function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Ct=Object(n.lazy)(()=>Promise.all([a.e(10),a.e(5)]).then(a.bind(null,2868))),St=e=>r.a.createElement(n.Suspense,{fallback:r.a.createElement(o.a,{message:"Loading Details component ..."})},r.a.createElement(Ct,e));t.default=()=>r.a.createElement(i.Switch,null,r.a.createElement(i.Route,{exact:!0,path:"/apis",key:Date.now(),render:e=>r.a.createElement(Ot,wt({},e,{isAPIProduct:!1}))}),r.a.createElement(i.Route,{exact:!0,path:"/api-products",key:Date.now(),render:e=>s.a.isNotPublisher()?r.a.createElement(i.Redirect,{to:"/apis"}):r.a.createElement(Ot,wt({},e,{isAPIProduct:!0}))}),r.a.createElement(i.Route,{path:"/apis/search",render:e=>r.a.createElement(Ot,wt({},e,{isAPIProduct:!1}))}),r.a.createElement(i.Route,{path:"/apis/create",component:Pe}),r.a.createElement(i.Route,{path:"/api-products/create",render:()=>s.a.isNotPublisher()?r.a.createElement(i.Redirect,{to:"/apis"}):r.a.createElement(Pe,null)}),r.a.createElement(i.Route,{path:"/apis/:apiUUID/",render:e=>r.a.createElement(St,wt({},e,{isAPIProduct:!1}))}),r.a.createElement(i.Route,{path:"/api-products/:apiProdUUID/",render:e=>s.a.isNotPublisher()?r.a.createElement(i.Redirect,{to:"/apis"}):r.a.createElement(St,wt({},e,{isAPIProduct:!0}))}))},438:function(e,t,a){"use strict";a.d(t,"e",function(){return l}),a.d(t,"b",function(){return s}),a.d(t,"a",function(){return o}),a.d(t,"d",function(){return c});var n=a(1),r=a.n(n);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const o=r.a.createContext({api:null,tenantList:[]}),{Provider:s}=o;function l(e){function t(t){return r.a.createElement(o.Consumer,null,a=>r.a.createElement(e,i({},a,t)))}return t.displayName="withAPI(".concat(e.displayName,")"),t}function c(){const{api:e,updateAPI:t}=Object(n.useContext)(o);return[e,t]}t.c=o},512:function(e,t,a){"use strict";var n=a(433),r=a(761),i=a(12),o=a(916);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}class p extends o.a{constructor(e,t,a){super();let r=a;e instanceof Object?r=e:(this.name=e,this.version="1.0.0",this.context=t,this.isDefaultVersion=!1,this.gatewayEnvironments=["Production and Sandbox"],this.transport=["http","https"],this.visibility="PUBLIC",this.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:""},production_endpoints:{url:""}}),this._data=r;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&(this[e]=r[e]);this.apiType=n.a.CONSTS.APIProduct,this.getType=this.getType.bind(this)}_requestMetaData(){o.a._requestMetaData()}getType(){return this.type}getSettings(){return this.client.then(e=>e.apis.Settings.get_settings()).then(e=>e.body)}getMonetization(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.client.then(t=>t.apis["API Monetization"].get_apis__apiId__monetization({apiId:e},this._requestMetaData())).then(e=>e.body)}configureMonetizationToApiProduct(e,t){return this.client.then(a=>a.apis["API Monetization"].post_apis__apiId__monetize({apiId:e,body:t}))}getSubscriptionPolicies(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.client.then(t=>t.apis.APIs.get_apis__apiId__subscription_policies({apiId:e},this._requestMetaData())).then(e=>e.body)}getMonetizationInvoice(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.client.then(t=>t.apis["API Monetization"].get_subscriptions__subscriptionId__usage({subscriptionId:e},this._requestMetaData())).then(e=>e.body)}saveProduct(){return this.client.then(e=>{const t=e.spec.definitions.APIProduct.properties,a={};Object.keys(this).forEach(e=>{e in t&&"apiType"!=e&&(a[e]=this[e])});const n={body:a,"Content-Type":"application/json"};return e.apis["API Products"].post_api_products(n,this._requestMetaData())}).then(e=>new n.a(e.body))}create(e){let t,a;return t={body:e,"Content-Type":"application/json"},a=this.client.then(e=>e.apis["API Products"].post_api_products(t,this._requestMetaData()))}toJSON(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var a={},n=["_data","client","type"].concat(c(t));for(var r in e)n.includes(r)||(a[r]=e[r]);return a}static get(e){return(new r.a).getAPIClient(i.a.getCurrentEnvironment()).client.then(t=>t.apis["API Products"].get_api_products__apiProductId_({apiProductId:e},this._requestMetaData())).catch(e=>{console.error(e)}).then(e=>new p(e.body))}static all(e){let t="";if(e&&"query"in e){for(const[a,n]of Object.entries(e.query))t+="".concat(a,":").concat(n,",");e.query=t}return(new r.a).getAPIClient(i.a.getCurrentEnvironment()).client.then(t=>t.apis["API Products"].get_api_products(e,o.a._requestMetaData())).catch(e=>{console.error(e)}).then(e=>(e.obj.apiType=n.a.CONSTS.APIProduct,e))}update(e){const t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(a,!0).forEach(function(t){l(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},this.toJSON(),{},this.toJSON(e));return this.client.then(e=>{const a={apiProductId:t.id,body:t};return e.apis["API Products"].put_api_products__apiProductId_(a)}).then(e=>new p(e.body))}getAPIProductThumbnail(e){return this.client.then(t=>t.apis["API Products"].get_api_products__apiProductId__thumbnail({apiProductId:e},this._requestMetaData())).catch(e=>{console.error(e)})}addAPIProductThumbnail(e,t){return this.client.then(a=>{const n={apiProductId:e,file:t,"Content-Type":t.type};return a.apis["API Products"].put_api_products__apiProductId__thumbnail(n,this._requestMetaData({"Content-Type":"multipart/form-data"}))}).catch(e=>{console.error(e)})}static delete(e){return(new r.a).getAPIClient(i.a.getCurrentEnvironment()).client.then(t=>t.apis["API Products"].delete_api_products__apiProductId_({apiProductId:e},this._requestMetaData())).catch(e=>{console.error(e)})}addDocument(e,t){return this.client.then(a=>{const n={apiProductId:e,body:t,"Content-Type":"application/json"};return a.apis["API Product Documents"].post_api_products__apiProductId__documents(n,this._requestMetaData())}).catch(e=>{console.error(e)})}getDocuments(e){return this.client.then(t=>t.apis["API Product Documents"].get_api_products__apiProductId__documents({apiProductId:e},this._requestMetaData())).catch(e=>{console.error(e)})}updateDocument(e,t,a){return this.client.then(n=>{const r={apiProductId:e,body:a,documentId:t,"Content-Type":"application/json"};return n.apis["API Product Documents"].put_api_products__apiProductId__documents__documentId_(r,this._requestMetaData()).catch(e=>{console.error(e)})})}getDocument(e,t){return this.client.then(a=>a.apis["API Product Documents"].get_api_products__apiProductId__documents__documentId_({apiProductId:e,documentId:t},this._requestMetaData())).catch(e=>{console.error(e)})}addInlineContentToDocument(e,t,a,n){return this.client.then(r=>{const i={apiProductId:e,documentId:t,sourceType:a,inlineContent:n,"Content-Type":"application/json"};return r.apis["API Product Documents"].post_api_products__apiProductId__documents__documentId__content(i,this._requestMetaData({"Content-Type":"multipart/form-data"}))}).catch(e=>{console.error(e)})}getInlineContentOfDocument(e,t){return this.client.then(a=>{const n={apiProductId:e,documentId:t};return a.apis["API Product Documents"].get_api_products__apiProductId__documents__documentId__content(n)}).catch(e=>{console.error(e)})}deleteDocument(e,t){return this.client.then(a=>a.apis["API Product Documents"].delete_api_products__apiProductId__documents__documentId_({apiProductId:e,documentId:t},this._requestMetaData())).catch(e=>{console.error(e)})}addFileToDocument(e,t,a){return this.client.then(n=>{const r={apiProductId:e,documentId:t,file:a,"Content-Type":"application/json"};return n.apis["API Product Documents"].post_api_products__apiProductId__documents__documentId__content(r,this._requestMetaData({"Content-Type":"multipart/form-data"}))})}updateSwagger(e){return this.client.then(t=>{const a={apiProductId:this.id,apiDefinition:JSON.stringify(e),"Content-Type":"multipart/form-data"};return t.apis["API Products"].put_api_products__apiProductId__swagger(a,this._requestMetaData({"Content-Type":"multipart/form-data"})).catch(e=>{console.error(e)})}).then(e=>this)}getSwagger(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;return this.client.then(t=>t.apis["API Products"].get_api_products__apiProductId__swagger({apiProductId:e},this._requestMetaData())).catch(e=>{console.error(e)})}}t.a=p},548:function(e,t,a){"use strict";var n=a(1231),r=a.n(n),i=a(433),o=a(950),s=a.n(o);function l(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach(function(t){d(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e){switch(e){case"any.empty":return"should not be empty";case"string.regex.base":return"should not contain spaces or special characters";case"string.max":return"has exceeded the maximum number of characters";default:return"should not be empty"}}const m=r.a.extend(e=>({base:e.string(),name:"systemRole",rules:[{name:"role",validate:(e,t,a,n)=>(new i.a).validateSystemRole(t)}]})),g=r.a.extend(e=>({base:e.string(),name:"scopes",rules:[{name:"scope",validate:(e,t,a,n)=>(new i.a).validateScopeName(t)}]})),h=r.a.extend(e=>({base:e.string(),name:"userRole",rules:[{name:"role",validate:(e,t,a,n)=>(new i.a).validateUSerRole(t)}]})),f=r.a.extend(e=>({base:e.string(),name:"api",rules:[{name:"isAPIParameterExist",validate(e,t,a,n){const r="?query="+t.trim().toLowerCase(),o=s.a.parse(r);return o.limit=1,o.offset=0,i.a.search(o)}}]})),b=r.a.extend(e=>({base:e.object(),name:"document",rules:[{name:"isDocumentPresent",validate:(e,t,a,n)=>(new i.a).validateDocumentExists(t.id,t.name)}]})),y={apiName:r.a.string().max(30).regex(/^[^~!@#;:%^*()+={}|\\<>"',&$\s+]*$/).required().error(e=>e.map(e=>p({},e,{message:"Name "+u(e.type)}))),apiVersion:r.a.string().regex(/^[^~!@#;:%^*()+={}|\\<>"',&\/$]+$/).required().error(e=>{const t=l(e);return e.forEach((e,a)=>{const n=p({},e);n.message="API Version "+u(e.type),t[a]=n}),t}),apiContext:r.a.string().max(60).regex(/(?!.*\/t\/.*|.*\/t$)^[^~!@#:%^&*+=|\\<>"',&\s]*$/).required().error(e=>e.map(e=>p({},e,{message:"Context "+u(e.type)}))),role:m.systemRole().role(),scope:g.scopes().scope(),url:r.a.string().uri().error(e=>{const t=l(e);return e.forEach((e,a)=>{const n=p({},e);n.message="URL "+u(e.type),t[a]=n}),t}),alias:r.a.string().max(30).regex(/^[^~!@#;:%^*()+={}|\\<>"',&$\s+]*$/).required().error(e=>e.map(e=>p({},e,{message:"Alias "+u(e.type)}))),userRole:h.userRole().role(),apiParameter:f.api().isAPIParameterExist(),apiDocument:b.document().isDocumentPresent(),operationVerbs:r.a.array().items(r.a.string()).min(1).unique(),operationTarget:r.a.string().required(),name:r.a.string().min(1).max(255),email:r.a.string().email({tlds:!0}).required()};t.a=y},583:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(35),o=a.n(i),s=a(1087),l=a(1086),c=a(1088),p=a(1089),d=a(1050),u=a(1170),m=a.n(u),g=a(721),h=a.n(g),f=a(1168),b=a.n(f),y=a(932),E=a.n(y),P=a(933),v=a(16),I=a(42),A=a(1188);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const w=Object(P.a)(e=>({xLarge:{fontSize:e.typography.pxToRem(64)}}));function C(e){const{type:t,message:a,dense:i,history:o,paperProps:u,disableActions:g,open:f,onClose:y,disableClose:P}=e,I=w(),[C,S]=Object(n.useState)(f),x={};i?x.fontSize="large":x.className=I.xLarge;let T,D=null,{description:j}=a;if("string"==typeof a||a instanceof String){j=a;const[e,...n]=t;T="".concat(e.toUpperCase()).concat(n.join(""))}else T="[".concat(a.code,"]: ").concat(a.message);switch(t){case"error":D=r.a.createElement(h.a,O({color:"error"},x));break;case"warning":D=r.a.createElement(m.a,O({color:"error"},x));break;case"successes":D=r.a.createElement(b.a,O({color:"error"},x));break;case"info":default:D=r.a.createElement(E.a,O({color:"error"},x))}return r.a.createElement(A.a,{in:C,unmountOnExit:!0},r.a.createElement(d.a,{clone:!0,pt:i?1:2,pr:i?0:1,pb:i?0:1,pl:i?1:2},r.a.createElement(l.a,u,r.a.createElement(s.a,{container:!0,spacing:2,alignItems:"center",wrap:"nowrap"},r.a.createElement(s.a,{item:!0},D),r.a.createElement(s.a,{item:!0},r.a.createElement(c.a,{variant:"subtitle2",display:"block",gutterBottom:!0},T,r.a.createElement(c.a,{variant:"body1"},j)))),r.a.createElement(s.a,{container:!0,justify:"flex-end",spacing:1},r.a.createElement(s.a,{item:!0},!g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{onClick:()=>o.goBack(),color:"primary"},r.a.createElement(v.a,{id:"app.components.Shared.Banner.back",defaultMessage:"Back"})),r.a.createElement(p.a,{onClick:()=>window.location.reload(),color:"primary"},"Refresh")),!P&&r.a.createElement(p.a,{onClick:y||(()=>S(!1)),color:"primary"},"CLOSE"))))))}C.defaultProps={dense:!1,type:"info",disableActions:!1,paperProps:{elevation:1},open:!0,onClose:null,disableClose:!1},C.propTypes={type:o.a.oneOf(["error","warning","info","successes"]),message:o.a.PropTypes.oneOfType([o.a.string,o.a.shape({})]).isRequired,dense:o.a.bool,open:o.a.bool,disableClose:o.a.bool,onClose:o.a.func,disableActions:o.a.bool,paperProps:o.a.shape({elevation:o.a.number}),history:o.a.shape({goBack:o.a.func}).isRequired},t.a=Object(I.withRouter)(C)},596:function(e,t,a){"use strict";a(443),a(739);var n=a(1),r=a.n(n),i=a(1210),o=a(426),s=a(550),l=a.n(s),c=a(1089),p=a(35),d=a.n(p),u=a(605),m=a.n(u);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const h=e=>{const{loading:t,success:a,children:n,classes:o,color:s,disableFocusRipple:l,disableRipple:p,fullWidth:d,href:u,mini:h,size:f,variant:b}=e,y={color:s,disableFocusRipple:l,disableRipple:p,fullWidth:d,href:u,mini:h,size:f,variant:b},E=m()({[o.buttonSuccess]:a});return r.a.createElement("div",{className:o.wrapper},r.a.createElement(c.a,g({},y,{className:E,disabled:t}),n),t&&r.a.createElement(i.a,{size:24,className:o.buttonProgress}))};h.defaultProps={loading:!1,success:!1,color:"default",disabled:!1,disableFocusRipple:!1,fullWidth:!1,mini:!1,size:"medium",type:"button",variant:"flat",disableRipple:!1,href:""},h.propTypes={loading:d.a.bool,success:d.a.bool,children:d.a.node.isRequired,classes:d.a.shape({buttonSuccess:d.a.string,wrapper:d.a.string,buttonProgress:d.a.string}).isRequired,color:d.a.oneOf(["default","inherit","primary","secondary"]),disabled:d.a.bool,disableFocusRipple:d.a.bool,disableRipple:d.a.bool,fullWidth:d.a.bool,href:d.a.string,mini:d.a.bool,size:d.a.oneOf(["small","medium","large"]),type:d.a.string,variant:d.a.oneOf(["flat","raised","fab"])};Object(o.a)(e=>({wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:l.a[500],"&:hover":{backgroundColor:l.a[700]}},buttonProgress:{color:l.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}))(h);var f=a(98),b=a(1087),y=a(1086);a(2143);const E=e=>{const{message:t}=e;return r.a.createElement("div",{className:"redirect-flex-container"},r.a.createElement(b.a,{container:!0,justify:"center",alignItems:"center",spacing:0,className:"redirect-grid-container"},r.a.createElement(b.a,{item:!0,lg:6,md:8,xs:10},r.a.createElement(b.a,{container:!0,alignItems:"center"},r.a.createElement(b.a,{item:!0,sm:2,xs:12},r.a.createElement(f.a,{className:"redirect-loadingbar"})),r.a.createElement(b.a,{item:!0,sm:10,xs:12},r.a.createElement("div",{className:"redirect-main-content"},r.a.createElement(y.a,{elevation:5,square:!0,className:"redirect-paper"},t)))))))};E.propTypes={message:d.a.string.isRequired};a.d(t,"a",function(){return f.a})},732:function(e,t,a){"use strict";a.d(t,"a",function(){return d}),a.d(t,"b",function(){return p}),a.d(t,"c",function(){return c});var n=a(1),r=a.n(n),i=a(35),o=a.n(i),s=a(1094),l=a(56);const c={APIS:"/apis",API_PRODUCTS:"/api-products",SINGLE_API:"/apis/{apiId}",SINGLE_API_PRODUCT:"/api-products/{apiProductId}",API_SWAGGER:"/apis/{apiId}/swagger",API_WSDL:"/apis/{apiId}/wsdl",API_GW_CONFIG:"/apis/{apiId}/gateway-config",API_THUMBNAIL:"/apis/{apiId}/thumbnail",API_COPY:"/apis/copy-api",API_LC_HISTORY:"/apis/{apiId}/lifecycle-history",API_CHANGE_LC:"/apis/change-lifecycle",API_LC:"/apis/{apiId}/lifecycle",API_LC_PENDING_TASK:"/apis/{apiId}/lifecycle/lifecycle-pending-task",API_DEF:"/apis/import-definition",API_VALIDATE_DEF:"/apis/validate-definition",API_DOCS:"/apis/{apiId}/documents",API_DOC:"'/apis/{apiId}/documents/{documentId}'",API_DOC_CONTENT:"'/apis/{apiId}/documents/{documentId}/content'",EXPORT_APIS:"/export/apis",IMPORT_APIS:"/import/apis",SUBSCRIPTION:"/subscriptions",SUBSCRIPTIONS:"/subscriptions",BLOCK_SUBSCRIPTION:"/subscriptions/block-subscription",UNBLOCK_SUBSCRIPTION:"/subscriptions/unblock-subscription",POLICIES:"'/policies/{tierLevel}'",POLICY:"'/policies/{tierLevel}/{tierName}'",ENDPOINTS:"/endpoints",ENDPOINT:"/endpoints/{endpointId}",LABLES:"/labels",WORKFLOW:"/workflows/{workflowReferenceId}",SERVICE_DISCOVERY:"/external-resources/services"},p={POST:"post",PUT:"put",GET:"get",DELETE:"delete"};class d extends r.a.Component{static hasScopes(e,t){const a=l.a.getUser().scopes;return s.a.getScopeForResource(e,t).then(e=>a.includes(e))}constructor(e){super(e),this.state={}}componentDidMount(){const{resourcePath:e,resourceMethod:t}=this.props;d.hasScopes(e,t).then(e=>{this.setState({haveScope:e})})}render(){const{children:e}=this.props,{haveScope:t}=this.state;return t&&e||null}}d.propTypes={children:o.a.node.isRequired,resourcePath:o.a.string.isRequired,resourceMethod:o.a.string.isRequired}},739:function(e,t,a){"use strict";a.d(t,"a",function(){return g});var n=a(1),r=a.n(n),i=a(1187),o=a(1191),s=a(1192),l=a(1194),c=a(1209),p=a(1089),d=a(35),u=a.n(d),m=a(16);function g(e){const{title:t,message:a,labelCancel:n,labelOk:d,open:u,callback:m}=e;function h(e){e===g.Action.OK?m(!0):m(!1)}return r.a.createElement(i.a,{open:u,onClose:h},r.a.createElement(o.a,null,t),r.a.createElement(s.a,null,r.a.createElement(l.a,null,a)),r.a.createElement(c.a,null,r.a.createElement(p.a,{onClick:()=>h(g.Action.CANCEL),color:"primary"},n),r.a.createElement(p.a,{onClick:()=>h(g.Action.OK),color:"primary"},d)))}g.defaultProps={title:r.a.createElement(m.a,{id:"Apis.Shared.ConfirmDialog.please.confirm",defaultMessage:"Please Confirm"}),message:r.a.createElement(m.a,{id:"Apis.Shared.ConfirmDialog.are.you.sure",defaultMessage:"Are you sure?"}),labelOk:r.a.createElement(m.a,{id:"Apis.Shared.ConfirmDialog.ok",defaultMessage:"OK"}),labelCancel:r.a.createElement(m.a,{id:"Apis.Shared.ConfirmDialog.cancel",defaultMessage:"Cancel"}),callback:()=>{}},g.propTypes={title:u.a.string,message:u.a.string,labelCancel:u.a.string,labelOk:u.a.string,open:u.a.bool.isRequired,callback:u.a.func,intl:u.a.shape({formatMessage:u.a.func}).isRequired},g.Action={OK:"ok",CANCEL:"cancel"}},865:function(e,t,a){"use strict";var n=a(426),r=a(16),i=a(95),o=a(550),s=a.n(o),l=a(1179),c=a.n(l),p=a(1),d=a.n(p),u=a(1089),m=a(1596),g=a(1187),h=a(1209),f=a(1192),b=a(1087),y=a(1599),E=a(1253),P=a(1256),v=a(1086),I=a(1219),A=a(1608),O=a(1088),w=a(682),C=a.n(w),S=a(1211),x=a(1174),T=a(1210),D=a(35),j=a.n(D),k=a(757),R=a(1982),L=a(433),M=a(512),N=a(420),_=a.n(N),q=a(443),V=a(438),W=a(24),U=a.n(W);function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function F(e){return("0x"+e.substring(7,9))/256}function z(e){return e.substring(0,7)}function G(e){const{classes:t,colorPair:a,width:n,height:r}=e,i={width:50,height:50},o=[];for(let e=0;e<=4;e++)for(let t=0;t<=4;t++){const n="#"+(a.sub-(37*e-21*t)).toString(16);o.push(d.a.createElement("rect",B({key:e+"_"+t},i,{fill:z(n),fillOpacity:F(n),x:200-54*e,y:54*t})))}const s="#"+a.prime.toString(16);return d.a.createElement("svg",{width:n,height:r,className:t.svgImage},d.a.createElement("rect",B({},{width:250,height:200},{fill:z(s),fillOpacity:F(s)})),o)}G.propTypes={classes:j.a.shape({}).isRequired,width:j.a.shape({}).isRequired,height:j.a.shape({}).isRequired,colorPair:j.a.shape({sub:j.a.number,prime:j.a.number}).isRequired};var Q=Object(n.a)({svgImage:{cursor:"pointer",objectFit:"cover"}})(G);class H extends p.PureComponent{render(){const{classes:e,api:t,width:a,height:n,theme:r,fixedIcon:i}=this.props,{category:o,key:s,color:l,backgroundIndex:c}=i;let p,u,m,g,h=t;"object"==typeof t&&(h=t.name),h||(h="default");const f=r.custom.thumbnail.backgrounds;if(s&&o)g=s;else if("DOC"===t.type)g=r.custom.thumbnail.document.icon;else{p=_.a.categories[0].icons.length;const e=(h.charCodeAt(0)+h.charCodeAt(h.length-1))%p;g=_.a.categories[0].icons[e].id}return u="DOC"===t.type?r.custom.thumbnail.document.backgrounds:"number"==typeof c&&f.length>c?f[c]:f[m=(h.charCodeAt(0)+h.charCodeAt(h.length-1))%f.length],d.a.createElement("div",{className:e.iconWrapper,style:{width:a}},d.a.createElement(S.a,{className:e.icon,style:{fontSize:n,marginLeft:-n/2,color:l}},g),d.a.createElement(Q,{width:a,height:n,colorPair:u}))}}H.defaultProps={height:190,width:250,fixedIcon:{category:null,key:null,color:"",backgroundIndex:null}},H.propTypes={classes:j.a.shape({}).isRequired,height:j.a.number,width:j.a.number,fixedIcon:j.a.shape({}),api:j.a.shape({}).isRequired,iconSettings:j.a.shape({}).isRequired,theme:j.a.shape({}).isRequired};var $=Object(n.a)({icon:{},iconWrapper:{position:"relative","& span":{position:"absolute",left:"50%"}}},{withTheme:!0})(H);function K(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Y=window.URL||window.webkitURL,X={border:"1px dashed ",borderRadius:"5px",cursor:"pointer",height:75,padding:"8px 0px",position:"relative",textAlign:"center",width:"100%",margin:"10px 0"};function Z(e){return d.a.createElement(I.a,J({direction:"up"},e))}class ee extends p.Component{constructor(e){super(e),K(this,"handleClick",(e,t)=>()=>{if("btnEditAPIThumb"===e)this.setState({open:!0});else if("btnUploadAPIThumb"===e){const{api:e}=this.props,{selectedTab:a,selectedIconUpdate:n,category:r,colorUpdate:i,backgroundIndexUpdate:o,file:s}=this.state;let l;if("upload"===a){if(!e.id&&!s)return void q.a.error(t.formatMessage({id:"Apis.Listing.components.ImageGenerator.ThumbnailView.thumbnail.validation.error",defaultMessage:"Invalid file or API information is not set correctly."}));l=s[0]}else{if(!n&&!i&&!o)return void q.a.error(t.formatMessage({id:"the.icon.is.not.modified",defaultMessage:"The icon is not modified"}));const e={key:n,category:r,color:i,backgroundIndex:o},a=new Blob([JSON.stringify(e)],{type:"application/json"});l=new File([a],"FileName.json",{type:"application/json"})}this.uploadThumbnail(a,e.id,l,t)}}),K(this,"handleChange",(e,t)=>{this.setState({selectedTab:t})}),K(this,"handleSelectionChange",e=>t=>{this.setState({[e]:t.target.value})}),K(this,"selectIcon",e=>{this.setState({selectedIconUpdate:e})}),K(this,"handleChangeComplete",e=>{this.setState({colorUpdate:e.hex})}),K(this,"selectBackground",e=>{this.setState({backgroundIndexUpdate:e})}),this.state={open:!1,file:null,thumbnail:null,selectedTab:"design",category:_.a.categories[0].name,selectedIcon:null,selectedIconUpdate:null,color:null,colorUpdate:null,backgroundIndex:null,backgroundIndexUpdate:null,uploading:!1,imageLoaded:!1},this.handleClick=this.handleClick.bind(this),this.handleClose=this.handleClose.bind(this)}componentDidMount(){this.loadImage()}componentDidUpdate(e){this.props.imageUpdate!==e.imageUpdate&&this.loadImage()}componentWillUnmount(){this.state.thumbnail&&Y.revokeObjectURL(this.state.thumbnail)}onDrop(e){this.setState({file:e})}handleClose(){const{file:e,preview:t}=this.state;e&&Y.revokeObjectURL(t),this.setState(e=>({open:!1,file:null,colorUpdate:e.color,backgroundIndexUpdate:e.background,selectedIconUpdate:e.selectedIcon}))}uploadThumbnail(e,t,a,n){this.setState({uploading:!0});const{api:{apiType:r,id:i},setImageUpdate:o}=this.props;(r===L.a.CONSTS.APIProduct?(new M.a).addAPIProductThumbnail(i,a):(new L.a).addAPIThumbnail(i,a)).then(()=>{q.a.info(n.formatMessage({id:"Apis.Listing.components.ImageGenerator.ThumbnailView.thumbnail.upload.success",defaultMessage:"Thumbnail uploaded successfully"})),"upload"===e?this.setState({open:!1,thumbnail:Y.createObjectURL(a)}):this.setState(e=>({open:!1,thumbnail:a.preview,selectedIcon:e.selectedIconUpdate,color:e.colorUpdate,backgroundIndex:e.backgroundIndexUpdate})),o()}).catch(e=>{q.a.error(n.formatMessage({id:"Apis.Listing.components.ImageGenerator.ThumbnailView.thumbnail.upload.error",defaultMessage:"Error occurred while uploading new thumbnail. Please try again."}))}).finally(()=>{this.setState({uploading:!1})})}loadImage(){const{api:{apiType:e,id:t,type:a}}=this.props;if("DOC"!==a){(e===L.a.CONSTS.APIProduct?(new M.a).getAPIProductThumbnail(t):(new L.a).getAPIThumbnail(t)).then(e=>{if(e&&e.data)if("application/json"===e.headers["content-type"]){const t=JSON.parse(e.data);this.setState({selectedIcon:t.key,selectedIconUpdate:t.key,category:t.category,color:t.color,colorUpdate:t.color,backgroundIndex:t.backgroundIndex,backgroundIndexUpdate:t.backgroundIndex,thumbnail:null})}else if(e&&e.data.size>0){const t=Y.createObjectURL(e.data);this.setState({thumbnail:t})}}).finally(()=>{this.setState({imageLoaded:!0})})}}saveDisableEnable(){const{file:e,selectedTab:t,selectedIconUpdate:a,colorUpdate:n,backgroundIndexUpdate:r,uploading:i}=this.state;return"upload"===t?!(e&&e[0])||i:!(a||r||n)||i}render(){const{api:e,classes:t,width:a,height:n,isEditable:o,theme:s,intl:l}=this.props,c=s.custom.thumbnail.backgrounds,{file:p,thumbnail:I,selectedTab:w,selectedIcon:D,selectedIconUpdate:j,color:M,colorUpdate:N,backgroundIndex:q,backgroundIndexUpdate:V,uploading:W,imageLoaded:B}=this.state;let{category:F}=this.state;F||(F=_.a.categories[0].name);let z,G="";return G=e.apiType?e.apiType===L.a.CONSTS.APIProduct?"/api-products/".concat(e.id,"/overview"):"/apis/".concat(e.id,"/overview"):"/apis/".concat(e.apiUUID,"/documents/").concat(e.id,"/details"),z=B?I?d.a.createElement("img",{height:n,width:a,src:I,alt:"API Thumbnail",className:t.media}):d.a.createElement($,{width:a,height:n,api:e,fixedIcon:{key:D,color:M,backgroundIndex:q,category:F,api:e}}):d.a.createElement("div",{className:"image-load-frame"},d.a.createElement("div",{className:"image-load-animation1"}),d.a.createElement("div",{className:"image-load-animation2"})),d.a.createElement(d.a.Fragment,null,o?d.a.createElement(m.a,{focusRipple:!0,className:t.thumb,onClick:this.handleClick("btnEditAPIThumb",l)},z,d.a.createElement("span",{className:t.thumbBackdrop}),d.a.createElement("span",{className:t.thumbButton},d.a.createElement(O.a,{component:"span",variant:"subtitle1",color:"inherit"},d.a.createElement(C.a,null)))):d.a.createElement(i.b,{className:t.suppressLinkStyles,to:G},z),d.a.createElement(g.a,{TransitionComponent:Z,"aria-labelledby":"thumb-dialog-title",disableBackdropClick:!0,open:this.state.open,onClose:this.handleClose,fullWidth:"true",maxWidth:"lg",fullScreen:!0},d.a.createElement(v.a,{square:!0,className:t.popupHeader},d.a.createElement(x.a,{color:"inherit",onClick:this.handleClose,"aria-label":"Close"},d.a.createElement(S.a,null,"close")),d.a.createElement(E.a,{"aria-label":"APIThumbnail",name:"apiThumbnail",className:t.group,value:this.state.selectedTab,onChange:this.handleChange},d.a.createElement(P.a,{value:"design",control:d.a.createElement(y.a,{color:"primary"}),label:d.a.createElement(r.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.design",defaultMessage:"Design"})}),d.a.createElement(P.a,{value:"upload",control:d.a.createElement(y.a,{color:"primary"}),label:d.a.createElement(r.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.upload",defaultMessage:"Upload"})}))),d.a.createElement(f.a,null,"upload"===w&&d.a.createElement(b.a,{container:!0,spacing:4},d.a.createElement(b.a,{item:!0,xs:3},d.a.createElement("div",{className:t.imageContainer},d.a.createElement("img",{className:t.preview,src:p&&p.length>0?Y.createObjectURL(p[0]):U.a.app.context+"/site/public/images/api/api-default.png",alt:"Thumbnail Preview"}))),d.a.createElement(b.a,{item:!0,xs:9},d.a.createElement(k.a,{multiple:!1,accept:"image/*",className:t.dropzone,activeClassName:t.acceptDrop,rejectClassName:t.rejectDrop,onDrop:e=>{this.onDrop(e)}},e=>{let{getRootProps:a,getInputProps:n}=e;return d.a.createElement("div",a({style:X}),d.a.createElement("input",n()),d.a.createElement("div",{className:t.dropZoneWrapper},d.a.createElement(S.a,{className:t.dropIcon},"cloud_upload"),d.a.createElement(O.a,null,d.a.createElement(r.a,{id:"upload.image",defaultMessage:"Click or drag the image to upload."}))))}))),"design"===w&&d.a.createElement(b.a,{container:!0,spacing:4},d.a.createElement(b.a,{item:!0,xs:3,className:t.imageGenWrapper},d.a.createElement($,{width:a,height:n,api:e,fixedIcon:{key:j,color:N,backgroundIndex:V,category:F,api:e}})),d.a.createElement(b.a,{item:!0,xs:9},d.a.createElement("div",{className:t.subtitleWrapper},d.a.createElement(O.a,{component:"p",variant:"subtitle2",className:t.subtitle},d.a.createElement(r.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.select.category",defaultMessage:"Select Category"})),d.a.createElement(A.a,{native:!0,value:this.state.category,onChange:this.handleSelectionChange("category")},_.a.categories.map(e=>d.a.createElement("option",{value:e.name},e.name)))),d.a.createElement(O.a,{component:"p",variant:"body1",className:t.body},d.a.createElement(r.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.select.an.icon",defaultMessage:"Select an icon from the Material Icons for your API."})),d.a.createElement("div",{style:{background:"#efefef",maxHeight:180,overflow:"scroll"}},function(e){for(let t=0;t<_.a.categories.length;t++)if(_.a.categories[t].name===e)return _.a.categories[t].icons}(F).map(e=>d.a.createElement(S.a,{className:t.iconView,onClick:()=>this.selectIcon(e.id)},e.id))),d.a.createElement("div",{className:t.subtitleWrapper},d.a.createElement(O.a,{component:"p",variant:"subtitle2",className:t.subtitle},d.a.createElement(r.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.select.color.for.the.icon",defaultMessage:"Select a color for the icon"}))),d.a.createElement(R.SketchPicker,{color:this.state.color||"#ffffff",onChangeComplete:this.handleChangeComplete}),d.a.createElement("div",{className:t.subtitleWrapper},d.a.createElement(O.a,{component:"p",variant:"subtitle2",className:t.subtitle},d.a.createElement(r.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.select.background",defaultMessage:"Select a Background"}))),c.map((e,a)=>d.a.createElement("div",{className:t.backgroundSelection,onClick:()=>this.selectBackground(a),onKeyDown:()=>{}},d.a.createElement(Q,{width:100,height:100,colorPair:e})))))),d.a.createElement(h.a,{className:t.actionBox},d.a.createElement(u.a,{disabled:this.saveDisableEnable(),variant:"contained",color:"primary",size:"small",onClick:this.handleClick("btnUploadAPIThumb",l)},"design"===w&&W&&d.a.createElement(d.a.Fragment,null,d.a.createElement(r.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.saving.btn",defaultMessage:"Saving"}),d.a.createElement(T.a,{size:16})),"design"===w&&!W&&d.a.createElement(r.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.save.btn",defaultMessage:"Save"}),"design"!==w&&W&&d.a.createElement(d.a.Fragment,null,d.a.createElement(r.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.uploading.btn",defaultMessage:"Uploading"}),d.a.createElement(T.a,{size:16})),"design"!==w&&!W&&d.a.createElement(r.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.upload.btn",defaultMessage:"Upload"})),d.a.createElement(u.a,{variant:"contained",size:"small",onClick:this.handleClose},d.a.createElement(r.a,{id:"Apis.Listing.components.ImageGenerator.ThumbnailView.cancel.btn",defaultMessage:"CANCEL"})))))}}ee.defaultProps={height:190,width:250,isEditable:!1},ee.propTypes={api:j.a.shape({}).isRequired,classes:j.a.shape({}).isRequired,height:j.a.number,width:j.a.number,isEditable:j.a.bool,intl:j.a.shape({}).isRequired,theme:j.a.shape({}).isRequired,imageUpdate:j.a.number.isRequired,setImageUpdate:j.a.func.isRequired};t.a=Object(r.d)(Object(V.e)(Object(n.a)(e=>({acceptDrop:{backgroundColor:s.a[50]},dropzone:{border:"1px dashed "+e.palette.primary.main,borderRadius:"5px",cursor:"pointer",height:"calc(100vh - 10em)",padding:"".concat(e.spacing(2),"px 0px"),position:"relative",textAlign:"center",width:"100%",margin:"10px 0"},dropZoneWrapper:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center","& span":{fontSize:100,color:e.palette.primary.main}},media:{objectFit:"cover"},preview:{height:e.spacing(25)},rejectDrop:{backgroundColor:c.a[50]},suppressLinkStyles:{textDecoration:"none",color:e.palette.text.disabled},thumb:{"&:hover":{zIndex:1,"& $thumbBackdrop":{opacity:.2}}},thumbBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4},thumbButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},group:{display:"flex",flexDirection:"row",padding:"0 0 0 20px"},popupHeader:{display:"flex",flexDirection:"row"},iconView:{width:30,margin:10,cursor:"pointer"},subtitle:{marginRight:20},subtitleWrapper:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:20,marginBottom:10},body:{marginBottom:10},imageGenWrapper:{"& > div":{position:"fixed",marginTop:20}},backgroundSelection:{cursor:"pointer",marginRight:10,display:"inline-block",border:"solid 1px #ccc"},actionBox:{boxShadow:"0px 1px 5px 0px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 3px 1px -2px rgba(0,0,0,0.12)",justifyContent:"flex-start",padding:"10px 0 10px 10px"},imageContainer:{paddingTop:10}}),{withTheme:!0})(ee)))},951:function(e,t,a){"use strict";a.d(t,"b",function(){return u}),a.d(t,"a",function(){return b});var n=a(1),r=a.n(n),i=a(35),o=a.n(i),s=a(757),l=a(492);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e;const n=t?1e3:1024;if(Math.abs(a)<n)return a+" B";const r=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let i=-1;do{a/=n,++i}while(Math.abs(a)>=n&&i<r.length-1);return a.toFixed(1)+" "+r[i]}const m={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"100px 20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},g={borderColor:"#2196f3"},h={borderColor:"#00e676"},f={borderColor:"#ff1744"};function b(e){const{message:t,onDrop:a,error:i,children:o,accept:u}=e,b=Object(s.b)({onDrop:a}),{getRootProps:y,getInputProps:E,isDragActive:P,isDragAccept:v,isDragReject:I}=b,A=Object(n.useMemo)(()=>(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach(function(t){d(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e})({},m,{},P?g:{},{},v?h:{},{},I?f:{}),[P,I,i]),O={fontFamily:Object(l.a)().typography.fontFamily,textAlign:"center"};return r.a.createElement("section",{className:"container",style:O},r.a.createElement("div",y({style:A}),r.a.createElement("input",c({},E(),{multiple:!1,accept:u})),o||r.a.createElement("p",null,t)))}b.defaultProps={message:"Drag 'n' drop some files here, or click to select files",onDrop:()=>{},showFilesList:!0,children:null,error:!1,accept:"*"},b.propTypes={message:o.a.string,onDrop:o.a.func,accept:o.a.string,showFilesList:o.a.bool,children:o.a.oneOfType([o.a.element,o.a.array]),error:o.a.oneOfType([o.a.bool,o.a.shape({})])}}}]);
//# sourceMappingURL=DeferredAPIs.bundle.js.map