{"version":3,"sources":["webpack:///./source/src/app/components/Apis/Details/APIDefinition/swaggerUI/SwaggerUI.jsx","webpack:///./source/src/app/components/Apis/Details/APIDefinition/SwaggerEditorDrawer.jsx"],"names":["disableAuthorizeAndInfoPlugin","wrapComponents","info","authorizeBtn","disableTryItOutPlugin","statePlugins","spec","wrapSelectors","allowTryItOutFor","SwaggerUI","props","url","componentProps","validatorUrl","docExpansion","defaultModelsExpandDepth","plugins","react_default","a","createElement","swagger_ui_react_default","propTypes","accessTokenProvider","PropTypes","func","isRequired","authorizationHeader","string","api","shape","context","MonacoEditor","lazy","Promise","resolve","then","__webpack_require__","t","bind","SwaggerEditorDrawer","React","Component","constructor","super","this","onContentChange","content","onEditContent","render","classes","language","swagger","swaggerUrl","encodeURIComponent","Fragment","Grid","container","spacing","className","editorRoot","item","editorPane","width","height","theme","value","onChange","options","glyphMargin","swaggerUI_SwaggerUI","withStyles","overflow"],"mappings":"0OAsBA,MAAMA,EAAgC,WAClC,MAAO,CACHC,eAAgB,CACZC,KAAM,IAAM,IAAM,KAClBC,aAAc,IAAM,IAAM,QAIhCC,EAAwB,WAC1B,MAAO,CACHC,aAAc,CACVC,KAAM,CACFC,cAAe,CACXC,iBAAkB,IAAM,KAAM,OAY5CC,EAAaC,IACf,MAAMJ,KACFA,EADEK,IAEFA,GACAD,EAEEE,EAAiB,CACnBN,OACAK,MACAE,aAAc,KACdC,aAAc,OACdC,0BAA2B,EAC3BC,QAAS,CAAChB,EAA+BI,IAE7C,OAAOa,EAAAC,EAAAC,cAACC,EAAAF,EAAiBN,IAG7BH,EAAUY,UAAY,CAClBC,oBAAqBC,IAAUC,KAAKC,WACpCC,oBAAqBH,IAAUI,OAAOF,WACtCG,IAAKL,IAAUM,MAAM,CACjBC,QAASP,IAAUI,OAAOF,aAC3BA,WACHd,IAAKY,IAAUI,OAAOF,YAEXhB,QCjDf,MAWMsB,EAAeC,eAAK,IAAMC,QAAAC,UAAAC,KAAAC,EAAAC,EAAAC,KAAA,eAQhC,MAAMC,UAA4BC,IAAMC,UAIpCC,YAAYhC,GACRiC,MAAMjC,GACNkC,KAAKC,gBAAkBD,KAAKC,gBAAgBP,KAAKM,MAOrDC,gBAAgBC,GACZ,MAAMC,cAAEA,GAAkBH,KAAKlC,MAC/BqC,EAAcD,GAMlBE,SACI,MAAMC,QAAEA,EAAFC,SAAWA,EAAXC,QAAqBA,GAAYP,KAAKlC,MACtC0C,EAAa,aAAeF,EAAW,IAAMG,mBAAmBF,GACtE,OACIlC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoC,SAAA,KACIrC,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGC,UAAWT,EAAQU,YAC3C1C,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAMK,MAAI,EAACF,UAAWT,EAAQY,YAC1B5C,EAAAC,EAAAC,cAACY,EAAD,CACImB,SAAUA,EACVY,MAAM,OACNC,OAAO,qBACPC,MAAM,UACNC,MAAOd,EACPe,SAAUtB,KAAKC,gBACfsB,QAAS,CAAEC,aAAa,MAGhCnD,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAMK,MAAI,EAACF,UAAWT,EAAQY,YAC1B5C,EAAAC,EAAAC,cAACkD,EAAD,CAAW1D,IAAKyC,QAQxCb,EAAoBlB,UAAY,CAC5B4B,QAAS1B,IAAUM,MAAM,IAAIJ,WAC7ByB,SAAU3B,IAAUI,OAAOF,WAC3B0B,QAAS5B,IAAUI,OAAOF,WAC1BsB,cAAexB,IAAUC,KAAKC,YAGnB6C,cAzEA,MACXT,WAAY,CACRC,MAAO,MACPC,OAAQ,OACRQ,SAAU,UAEdZ,WAAY,CACRI,OAAQ,UAkEDO,CAAmB/B","file":"EditorDialog.bundle.js","sourcesContent":["/*\n *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n *  WSO2 Inc. licenses this file to you under the Apache License,\n *  Version 2.0 (the \"License\"); you may not use this file except\n *  in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing,\n *  software distributed under the License is distributed on an\n *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n *  KIND, either express or implied. See the License for the\n *  specific language governing permissions and limitations\n *  under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport 'swagger-ui-react/swagger-ui.css';\nimport SwaggerUILib from 'swagger-ui-react';\n\nconst disableAuthorizeAndInfoPlugin = function () {\n    return {\n        wrapComponents: {\n            info: () => () => null,\n            authorizeBtn: () => () => null,\n        },\n    };\n};\nconst disableTryItOutPlugin = function () {\n    return {\n        statePlugins: {\n            spec: {\n                wrapSelectors: {\n                    allowTryItOutFor: () => () => false,\n                },\n            },\n        },\n    };\n};\n\n/**\n *\n * @class SwaggerUI\n * @extends {Component}\n */\nconst SwaggerUI = (props) => {\n    const {\n        spec,\n        url,\n    } = props;\n\n    const componentProps = {\n        spec,\n        url,\n        validatorUrl: null,\n        docExpansion: 'list',\n        defaultModelsExpandDepth: -1,\n        plugins: [disableAuthorizeAndInfoPlugin, disableTryItOutPlugin],\n    };\n    return <SwaggerUILib {...componentProps} />;\n};\n\nSwaggerUI.propTypes = {\n    accessTokenProvider: PropTypes.func.isRequired,\n    authorizationHeader: PropTypes.string.isRequired,\n    api: PropTypes.shape({\n        context: PropTypes.string.isRequired,\n    }).isRequired,\n    url: PropTypes.string.isRequired,\n};\nexport default SwaggerUI;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { lazy } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport SwaggerUI from './swaggerUI/SwaggerUI';\n\nconst styles = () => ({\n    editorPane: {\n        width: '50%',\n        height: '100%',\n        overflow: 'scroll',\n    },\n    editorRoot: {\n        height: '100%',\n    },\n});\n\nconst MonacoEditor = lazy(() => import('react-monaco-editor' /* webpackChunkName: \"APIDefMonacoEditor\" */));\n\n/**\n * This component hosts the Swagger Editor component.\n * Known Issue: The cursor jumps back to the start of the first line when updating the swagger-ui based on the\n * modification done via the editor.\n * https://github.com/wso2/product-apim/issues/5071\n * */\nclass SwaggerEditorDrawer extends React.Component {\n    /**\n     * @inheritDoc\n     */\n    constructor(props) {\n        super(props);\n        this.onContentChange = this.onContentChange.bind(this);\n    }\n\n    /**\n     * Method to handle the change event of the editor.\n     * @param {string} content : The edited content.\n     * */\n    onContentChange(content) {\n        const { onEditContent } = this.props;\n        onEditContent(content);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    render() {\n        const { classes, language, swagger } = this.props;\n        const swaggerUrl = 'data:text/' + language + ',' + encodeURIComponent(swagger);\n        return (\n            <>\n                <Grid container spacing={2} className={classes.editorRoot}>\n                    <Grid item className={classes.editorPane}>\n                        <MonacoEditor\n                            language={language}\n                            width='100%'\n                            height='calc(100vh - 51px)'\n                            theme='vs-dark'\n                            value={swagger}\n                            onChange={this.onContentChange}\n                            options={{ glyphMargin: true }}\n                        />\n                    </Grid>\n                    <Grid item className={classes.editorPane}>\n                        <SwaggerUI url={swaggerUrl} />\n                    </Grid>\n                </Grid>\n            </>\n        );\n    }\n}\n\nSwaggerEditorDrawer.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    language: PropTypes.string.isRequired,\n    swagger: PropTypes.string.isRequired,\n    onEditContent: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(SwaggerEditorDrawer);\n"],"sourceRoot":""}